{% load static %}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Pris Coperation">
    <meta name="generator" content="Hugo 0.79.0">
    <title>Home</title>

    <link rel="canonical" href="{{request.build_absolute_uri}}">

    <!-- map box -->
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.1.1/mapbox-gl.css' rel='stylesheet' />

    <!-- Import Turf and Polyline mapbox -->
    <script src="https://npmcdn.com/@turf/turf/turf.min.js"></script>
    <script src=https://cdnjs.cloudflare.com/ajax/libs/mapbox-polyline/1.1.1/polyline.js></script>

    <!-- Import Mapbox GL Directions -->
    <script src=https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.js></script>
    <link rel="stylesheet" href=https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.0.2/mapbox-gl-directions.css type="text/css" />

    <!-- Bootstrap core CSS -->
    <link href="{% static 'myapp/assets/dist/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- font icons -->
    <link rel="stylesheet" type="text/css" href="{% static 'myapp/vendors/styles/icon-font.min.css' %}">



    <!-- <link rel="apple-touch-icon" sizes="180x180" href="{% static 'myapp/images/favicon/apple-touch-icon.png' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'myapp/images/logo-black.svg' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% static 'myapp/images/logo-black.svg' %}">
    <link rel="manifest" href="{% static 'myapp/images/favicon/site.webmanifest' %}">
    <link rel="mask-icon" href="{% static 'myapp/images/favicon/safari-pinned-tab.svg' %}" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#603cba">
    <meta name="theme-color" content="#ffffff"> -->

    <link rel="apple-touch-icon" sizes="180x180" href="{{request.scheme}}://{{domain}}/static/myapp/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="{{request.scheme}}://{{domain}}/static/myapp/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="{{request.scheme}}://{{domain}}/static/myapp/favicon/favicon-16x16.png">
    <link rel="manifest" href="{{request.scheme}}://{{domain}}/static/myapp/favicon/site.webmanifest">
    <link rel="mask-icon" href="{{request.scheme}}://{{domain}}/static/myapp/favicon/safari-pinned-tab.svg" color="#000000">
    <link rel="shortcut icon" href="{{request.scheme}}://{{domain}}/static/myapp/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-config" content="{{request.scheme}}://{{domain}}/static/myapp/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">


    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-57x57.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-114x114.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-72x72.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-144x144.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-60x60.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-120x120.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-76x76.png' %}" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="{% static 'myapp/favicon/favicomatic/apple-touch-icon-152x152.png' %}" />
    <link rel="icon" type="image/png" href="{% static 'myapp/favicon/favicomatic/favicon-196x196.png' %}" sizes="196x196" />
    <link rel="icon" type="image/png" href="{% static 'myapp/favicon/favicomatic/favicon-96x96.png' %}" sizes="96x96" />
    <link rel="icon" type="image/png" href="{% static 'myapp/favicon/favicomatic/favicon-32x32.png' %}" sizes="32x32" />
    <link rel="icon" type="image/png" href="{% static 'myapp/favicon/favicomatic/favicon-16x16.png' %}" sizes="16x16" />
    <link rel="icon" type="image/png" href="{% static 'myapp/favicon/favicomatic/favicon-128.png' %}" sizes="128x128" />
    <meta name="application-name" content="&nbsp;" />
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="{% static 'myapp/favicon/favicomatic/mstile-144x144.png' %}" />
    <meta name="msapplication-square70x70logo" content="{% static 'myapp/favicon/favicomatic/mstile-70x70.png' %}" />
    <meta name="msapplication-square150x150logo" content="{% static 'myapp/favicon/favicomatic/mstile-150x150.png' %}" />
    <meta name="msapplication-wide310x150logo" content="{% static 'myapp/favicon/favicomatic/mstile-310x150.png' %}" />
    <meta name="msapplication-square310x310logo" content="{% static 'myapp/favicon/favicomatic/mstile-310x310.png' %}" />


    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair&#43;Display:700,900&amp;display=swap" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="{% static 'myapp/custom-css/blog.css' %}" rel="stylesheet">
    <link href="{% static 'myapp/custom-css/core.css' %}" rel="stylesheet">
    <link href="{% static 'myapp/custom-css/main.css' %}" rel="stylesheet">

    <!-- custom fonts -->
    <!-- <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet"> -->

    <!-- custom fonts desk app -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&amp;display=swap" rel="stylesheet"> {% block styles %}{% endblock %} -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400&display=swap" rel="stylesheet">
    <!-- animation vivify -->
    <link href="{% static 'myapp/custom-css/vivify.css' %}" rel="stylesheet" type="text/css" />
    <!-- jlight slider -->
    <link rel="stylesheet" href="{% static 'myapp\custom-js\OwlCarousel2-2.3.4\OwlCarousel2-2.3.4\dist\assets\owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'myapp\custom-js\OwlCarousel2-2.3.4\OwlCarousel2-2.3.4\dist\assets\owl.theme.default.min.css' %}">
    <!-- cropme -->
    <link rel="stylesheet" href="{% static 'myapp\custom-js\cropme-master\dist\cropme.min.css' %}">
    <link rel="stylesheet" href="{% static 'myapp\custom-js\cropme-master\css\style.css' %}">

    <!-- <link rel="stylesheet" href="css/main.css"> -->
    <style>
         :root {
            --light: #F4F6FC;
            --violet: #B965B5;
            --violet-orange: #F9719C;
            --orange: #FF937B;
            --orange-light: #FFC464;
            --yellow: #F9F871;
            --purple-light: rgb(137, 164, 247);
            --purple-dull: #5B63B7;
            --purple-bright: #763FEE;
        }
        
        .text-yellow {
            color: var(--yellow);
        }
        
        body {
            font-weight: 600;
            /* font-family: 'DM Sans', sans-serif; */
        }
        
        .dropdown-toggle::after {
            content: none;
        }
        
        .round-40 {
            border-radius: 40px;
        }
        
        .nav-item .nav-link {
            border-radius: 40px;
        }
        
        button {
            color: rgba(0, 0, 0, .55);
            background-color: white;
        }
        
        .marker {
            position: absolute;
        }
        /* background-color: #5B63B7; */
        /* background-color: #9ea5f1; */
    </style>
    <style>
        .grid {
            display: block;
            max-width: 100%
        }
        
        .grid:after,
        .category-grid:after {
            content: '';
            display: block;
            clear: both;
        }
        /* ---- grid-item ---- */
        
        .grid-item,
        .grid-item-3 {
            width: 50%;
            /* padding: 4px; */
            float: left;
        }
        
        .ad-block {
            margin-left: -7px;
        }
        
        .grid-item-2 .card {
            border-radius: 32px;
        }
        
        .grid-item .card,
        .grid-item-2 .card,
        .grid-item-3 .card {
            /* margin: 10px; */
            margin: 4px;
            /* padding: 8px; */
            position: relative;
            border: none;
            /* box-shadow: 0 0 16px 0 rgba(0 0 0 /8%); */
            border-radius: 24px;
            transition: height .3s ease;
            overflow: hidden;
        }
        
        .card-body {
            display: none;
        }
        
        .grid-item .card img,
        .grid-item-2 .card img,
        .grid-item-3 .card img {
            width: 100%;
            border-radius: 24px;
            vertical-align: middle;
        }
        
        @media (min-width: 1200px) {
            .grid-item {
                width: calc(100% / 5);
            }
            .grid-item-3 {
                width: calc(100% / 7);
            }
        }
        
        @media (min-width: 992px) and (max-width: 1199px) {
            .grid-item {
                width: calc(100% / 5);
            }
            .grid-item-3 {
                width: calc(100% / 6);
            }
        }
        
        @media (min-width: 768px) and (max-width: 991px) {
            .grid-item,
            .grid-item-3 {
                width: 25%;
            }
        }
        
        @media (min-width: 576px) and (max-width: 767px) {
            .grid-item,
            .grid-item-3 {
                width: calc(100% / 3);
            }
        }
        
        @media (min-width: 767px) {
            .grid-item .card,
            .grid-item-3 .card {
                margin: 8px;
                padding: 0;
                font-size: 16px;
            }
            .ad-block {
                margin-left: -10px;
            }
        }
    </style>
    <style>
        .d-shadow {
            /* box-shadow: 0 0 16px 0px #dde4fc; */
            box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(0, 0, 0, 0.04);
        }
        
        .like-btn {
            position: absolute;
            /* z-index: 2; */
            z-index: 1;
            right: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            box-shadow: 0 0 28px rgb(0 0 0/ 8%);
            background-color: rgba(255, 255, 255, 0.88);
        }
        
        .like-btn i {
            font-weight: 700;
        }
        
        .text-light {
            color: #F4F6FC!important;
        }
        
        .text-purple {
            color: #C9A2FC;
            /* color: #ac9bc4; */
        }
        
        .bg-light {
            background-color: var(--light) !important;
        }
        
        .text-white {
            color: white;
        }
        
        .d-bottom {
            position: fixed;
            bottom: 0;
            z-index: 2;
            margin: 12px 16px;
            width: calc(100% - 32px);
            box-shadow: 0 0 16px 0 #F4F6FC;
            /* border-top-left-radius: 24px; */
            border-radius: 14px;
            /* background-color: rgb(31, 30, 30); */
        }
        
        button {
            outline: none;
            border: none;
        }
        
        button:focus {
            outline: none;
        }
        
        .is--active {
            color: #193381;
        }
        
        .loader {
            /* margin-top: 40px;
            margin-bottom: 64px; */
            padding-top: 40px;
            padding: 64px;
        }
        
        ol.carousel-indicators li {
            height: 8px;
            width: 8px;
            border: 0px solid transparent;
            border-radius: 4px;
            transition: .6s;
        }
        
        ol.carousel-indicators li.active {
            width: 16px;
        }
    </style>
    <style>
        .sug-list-item {
            height: 40px;
            padding: 2px 8px;
            border-radius: 8px;
            display: flex;
            align-items: center;
        }
        
        .sug-list-item:hover {
            /* background-color: #F4F6FC; */
            background-color: rgba(1, 1, 1, 0.1);
        }
        
        .modal {
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            right: 0;
            overflow-y: auto !important;
        }
        
        .modal-dismiss-sticky {
            /* font-weight: bolder; */
            position: fixed;
            top: 16px;
            left: 16px;
            z-index: 2;
            display: none;
            box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(0, 0, 0, 0.04);
        }
        
        .framer-shadow {
            box-shadow: 0 6px 8px 0 rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(0, 0, 0, 0.04);
        }
        
        .grid-item .card a:active {
            opacity: 0.55;
            transition: opacity .2s;
            /* transition: transform .2s;
            transform: scale3d(0.9, 0.9, 0.9); */
        }
        
        .card a {
            height: 100%;
            width: 100%;
        }
        
        .notification {
            background-color: var(--purple);
            width: calc(100% - 48px);
            /* width: calc(100% - 80px); */
            /* max-width: 576px; */
            border-radius: 8px;
            color: white;
            position: absolute;
            bottom: -100%;
            left: 50%;
            border-radius: 16px;
            transform: translate(-50%, 0);
            transition: bottom .8s ease;
            z-index: 9997;
        }
        
        .notification img {
            border-radius: 14px;
        }
        
        .notification.show {
            bottom: 8px;
        }
        
        .notification.show-w-search {
            bottom: 8px;
        }
        
        @media (min-width: 767px) {
            .notification {
                /* width: 280px; */
                width: 576px;
            }
            .signup-btn,
            .login-btn {
                max-width: 328px;
            }
            .form-width {
                max-width: 328px;
                /* max-width: 576px; */
            }
        }
        
        .slide-down .modal-dialog {
            top: 100%;
            transition: top .3s ease-in;
        }
        
        .slide-down.show .modal-dialog {
            top: 0;
        }
        
        .slide-up .modal-dialog {
            top: 100%;
            transition: top .3s ease-in;
        }
        
        .slide-up.show .modal-dialog {
            top: 0;
        }
        
        .slide-left .modal-dialog {
            right: -100%;
            transition: right .3s ease-in;
        }
        
        .slide-left.show .modal-dialog {
            right: 0;
        }
        
        .slide-right .modal-dialog {
            right: 100%;
            transition: right .3s ease-in;
        }
        
        .slide-right.show .modal-dialog {
            right: 0;
        }
        
        .zoom-in .modal-dialog {
            transform: scale(0, 0.3);
            transition: transform .3s ease-in;
        }
        
        .zoom-in.show .modal-dialog {
            transform: scale(1, 1);
        }
        
        main {
            margin: 0;
            width: 100%;
        }
        
        #suggestionModal .modal-content {
            border-top-left-radius: 24px;
            border-top-right-radius: 24px;
            height: calc(100vh - 24px);
            overflow: hidden;
        }
        
        #suggestionModal .modal-dialog {
            /* top: 100%;
            transition: top .3s ease-in; */
            overflow: hidden;
        }
        
        #suggestionModal.slide-up.show .modal-dialog {
            top: 24px;
        }
        
        @media (min-width: 568px) {
            #suggestionModal .modal-content {
                height: calc(100vh - 64px);
            }
            #suggestionModal.slide-up.show .modal-dialog {
                top: 64px;
            }
        }
        
        #suggestionModal {
            /* backdrop-filter: blur(0);
            -webkit-backdrop-filter: blur(0); */
            background-color: rgba(0, 0, 0, 0);
            transition: background-color .3s ease-in;
        }
        
        #suggestionModal.show {
            background-color: rgba(0, 0, 0, .5);
            /* backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px); */
        }
        
        .modal-backdrop.show {
            opacity: 0;
            display: none !important;
        }
        
        #suggestionModal .modal-body {
            overflow-y: scroll !important;
        }
        
        #contentModal .modal-body {
            overflow-y: scroll !important;
        }
        
        #contentModal {
            overflow: hidden;
        }
        
        .search-btn {
            z-index: 9998;
            position: fixed;
            bottom: -100%;
            width: auto;
            left: 50%;
            transform: translate(-50%, 0);
            background-color: white;
            padding: 8px 16px;
            border-radius: 20px;
            transition: bottom .3s ease-in-out;
            cursor: pointer;
        }
        
        .search-btn.show {
            bottom: 24px;
        }
        
        .search-div {
            cursor: pointer;
        }
        
        .page-loader {
            z-index: 9999;
            position: fixed;
            height: 100%;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .page-loader img {
            height: 56px;
        }
        
        .carousel-container {
            border-radius: 28px;
            overflow: hidden;
            max-height: calc(100vh - 176px - 24px);
        }
        
        .carousel-control-prev,
        .carousel-control-next {
            max-height: calc(100vh - 176px - 24px);
        }
        
        .near-item-2 {
            border-radius: 24px;
        }
        
        .owl-nav {
            display: none;
        }
        
        .owl-dots {
            margin-top: -12px;
        }
        
        .owl-carousel {
            z-index: 0;
        }
        
        button.owl-dot span {
            /* background-color: ; */
            transition: .3s !important;
        }
        
        button.owl-dot.active span {
            background-color: rgb(126, 126, 126) !important;
            width: 30px !important;
        }
        
        .row {
            margin: 0 !important;
        }
        
        .modal {
            padding-right: 0 !important;
            padding-left: 0 !important;
        }
        
        .modal-xl {
            max-width: 100% !important;
            width: 100% !important;
        }
        
        .mt-header {
            margin-top: 73px;
        }
        
        .pointer {
            cursor: pointer;
        }
        
        .img-loader {
            width: 100%;
            height: 100%;
            z-index: 1;
            position: absolute;
            background-color: var(--light);
        }
        
        .img-loader:after {
            content: '';
            top: 0;
            border-radius: 24px;
            transform: translateX(100%);
            width: 100%;
            height: 100%;
            position: absolute;
            z-index: 2;
            animation: slide 1s infinite;
            /*
  CSS Gradient - complete browser support from http://www.colorzilla.com/gradient-editor/
  */
            background: -moz-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(128, 186, 232, 0) 99%, rgba(125, 185, 232, 0) 100%);
            /* FF3.6+ */
            background: -webkit-gradient(linear, left top, right top, color-stop(0%, rgba(255, 255, 255, 0)), color-stop(50%, rgba(255, 255, 255, 0.8)), color-stop(99%, rgba(128, 186, 232, 0)), color-stop(100%, rgba(125, 185, 232, 0)));
            /* Chrome,Safari4+ */
            background: -webkit-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(128, 186, 232, 0) 99%, rgba(125, 185, 232, 0) 100%);
            /* Chrome10+,Safari5.1+ */
            background: -o-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(128, 186, 232, 0) 99%, rgba(125, 185, 232, 0) 100%);
            /* Opera 11.10+ */
            background: -ms-linear-gradient(left, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(128, 186, 232, 0) 99%, rgba(125, 185, 232, 0) 100%);
            /* IE10+ */
            background: linear-gradient(to right, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 0.8) 50%, rgba(128, 186, 232, 0) 99%, rgba(125, 185, 232, 0) 100%);
            /* W3C */
            filter: progid: DXImageTransform.Microsoft.gradient( startColorstr='#00ffffff', endColorstr='#007db9e8', GradientType=1);
            /* IE6-9 */
        }
        /* animation */
        
        @keyframes slide {
            0% {
                transform: translateX(-100%);
            }
            100% {
                transform: translateX(100%);
            }
        }
        
        p {
            line-height: 24px;
        }
        
        .position-static {
            position: static !important;
        }
        
        .post-info {
            max-width: 991px;
            width: 100%;
            border-bottom-left-radius: 32px;
            border-bottom-right-radius: 32px;
            /* background-color: var(--purple-light);
            background: linear-gradient(1609deg, white 0%, var(--purple-light) 100%); */
        }
        
        .post-info .owl-dots {
            display: none;
        }
        
        .post-carousel-btn,
        .home-view-btn {
            display: flex;
            width: 100%;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            font-weight: 600;
            height: 32px;
        }
        
        .post-carousel-btn.active,
        .home-view-btn.active {
            background-color: var(--light);
        }
        
        .post-url:hover {
            opacity: 0.8;
        }
        
        .post-contact-description {
            font-weight: 500;
        }
        
        .source-carousel .card,
        .categories-carousel .card {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 204px;
            overflow: hidden;
            border-radius: 24px;
        }
        
        .source-carousel .card {
            background-repeat: no-repeat;
            background-size: cover;
        }
        
        .source-carousel .owl-stage {
            margin-left: 20px !important;
        }
        
        .source-carousel .owl-dots {
            display: none;
        }
        
        .source-carousel .item,
        .categories-carousel .item {
            /* padding-left: 24px; */
            padding-top: 24px;
            padding-bottom: 24px;
        }
        
        .today-pick {
            /* display: flex;
            align-items: center;
            justify-content: center; */
            margin: 0 auto;
            max-width: 568px;
            /* max-height: 316px; */
        }
        
        .today-pick img {
            transform: rotate(-6deg);
        }
        
        .card {
            border: 0;
            background-color: transparent;
            padding: 0;
            margin: 0;
        }
        
        .car-cont {
            width: calc(100% - 24px);
            background-color: white;
            max-width: 991px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, .2);
            border-radius: 32px;
            margin: 0 auto;
            margin-bottom: 24px;
            padding-top: 12px;
        }
        
        .category-title-bar-parent {
            height: 40px;
            overflow: hidden;
        }
        
        .category-title-bar {
            display: flex;
            /* float: left; */
            overflow-y: hidden;
            overflow-x: scroll;
        }
        
        .category-title {
            height: 40px;
            background-color: var(--light);
            border-radius: 20px;
            margin: 0 16px;
            white-space: nowrap;
            padding: 8px 16px;
            cursor: pointer;
        }
        
        @media (max-width: 767px) {
            .category-title {
                margin: 0;
                margin-bottom: 20px;
                margin-right: 16px;
            }
            .category-title:nth-child(1) {
                margin-left: 24px;
            }
            .category-title:last-child {
                margin-right: 24px;
            }
        }
        
        .category-title.active {
            background-color: black;
            color: white;
        }
        
        .menu-btn:active {
            background: var(--light);
        }
        
        .input-text {
            width: 100%;
            height: 40px;
            background-color: var(--light);
            border: none;
            border-radius: 10px;
            padding: 16px;
        }
        
        .spinner-light {
            border-color: rgba(255, 255, 255, .55);
            border-right-color: transparent;
        }
        
        .spinner-sm {
            border-width: .2rem;
            width: 16px;
            height: 16px;
        }
        
        .transparent {
            border: none;
            background-color: transparent;
        }
        
        .border-danger {
            border: 1px solid var(--danger);
        }
        
        .border-warning {
            border: 1px solid var(--warning);
        }
        
        .border-success {
            border: 1px solid var(--success);
        }
        
        .nav-sm-bottom-parent {
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 56px;
            /*position: fixed;*/
            /*z-index: 1050;*/
            /*bottom:;*/
        }
        
        .nav-sm-bottom {
            /* justify-content: center;
            align-items: center;
            position: fixed;
            bottom: 8px;
            z-index: 3;
            right: 0; */
            background-color: white;
            height: 48px;
            border-radius: 24px;
            box-shadow: 0 32px 64px 0 rgba(1, 1, 1, 8%);
        }
        
        .nav-sm-bottom>button {
            /* color: black; */
            font-size: large;
            margin: 0 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 40px;
            width: 40px;
            border-radius: 50%;
        }
        
        .nav-sm-bottom>button.active {
            /* background-color: var(--light); */
            font-weight: 900;
            color: var(--purple);
        }
        
        .nav-sm-bottom>button:hover,
        .nav-sm-bottom>button:focus {
            color: var(--purple);
            background-color: var(--light);
        }
        
        .nav-sm-bottom>button.search-btn-2 {
            padding: 0;
            margin: 0;
            width: 0px;
            height: 0px;
            transition: .3s ease;
            background-color: var(--purple);
            color: white;
        }
        
        .nav-sm-bottom>button.search-btn-2.show {
            /* padding: auto; */
            margin: 0 12px;
            width: 40px;
            height: 40px;
        }
        
        .view-port {
            position: relative;
            height: calc(100% - 56px);
            overflow: hidden;
            border-bottom-left-radius: 16px;
            border-bottom-right-radius: 16px;
        }
        
        @media (min-width: 767px) {
            .view-port {
                height: 100%;
            }
        }
        
        html,
        body,
        main,
        #homePage {
            height: 100%;
            min-height: 100%;
        }
        
        .view-port-child {
            height: 100%;
            overflow-y: scroll;
            border: 0;
        }
        
        .marker-img {
            background-image: url("{% static 'myapp/images/adidas-removebg-preview.png' %}");
            width: 80px;
            height: 56px;
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
        }
        
        .marker-shadow {
            margin-top: 3px;
            z-index: -1;
            left: 50%;
            position: absolute;
            transform: translate(-50%, 0);
        }
        
        .marker-body button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }
        
        .marker-body button:focus,
        .marker-body button:hover {
            background-color: var(--light);
        }
        
        .marker-body:after {
            content: "";
            position: absolute;
            width: 0;
            height: 0;
            border-style: solid;
            border-color: transparent;
            border-bottom: 0;
            left: 50%;
            transform: translate(-50%, 0);
            border-top-color: white;
            border-width: 8px;
            left: 50%;
            transform: translate(-50%, 0);
            border-top-color: white;
            border-width: 8px;
        }
    </style>
</head>

<body>
    <main>
        <div class="page-loader bg-white">
            <!-- <img class="m-auto" src="{% static 'myapp/images/logo-2-light-purple.svg' %}" alt="" style="height: 96px; width: auto;"> -->
            <img class="m-auto" src="{% static 'myapp/images/logo-black.svg' %}" alt="">

        </div>
        <div id="homePage" style="background-color: black;">
            <div class="view-port">
                <div class="d-md-block bg-white view-port-child">
                    <!-- top md navbar -->
                    <div class="nav d-md-flex d-none w-100 pt-4 pb-2">
                        <div class="d-flex align-items-center" style="width: 20%;">
                            <img class="mx-4" src="{% static 'myapp/images/logo-black.svg' %}" alt="" style="height: 40px; width: auto;">
                            <div class="mx-4 form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked style="width: 80px; height: 40px;">
                            </div>
                        </div>

                        <div class="d-flex" style="width: 60%; justify-content: center; align-items: center;">
                            <div class="d-flex px-4 search-div text-secondary" style="border-radius: 14px; background-color: rgb(244, 246, 252); min-width: 200px;  max-width: 696px; width: 90%;">
                                <div class="d-flex" style="justify-content: center; align-items: center;"><i class="ti-search"></i></div>
                                <div class="w-100 px-3 d-flex justify-content-start align-items-center" style="height: 48px; background-color: transparent;">Search...</div>
                            </div>
                        </div>
                        <!-- <div class="text-white mx-4 py-2 px-3 d-flex justify-content-center align-items-center pointer" style="border-radius: 24px; background-color: rgb(0, 0, 0); height: 48px"><i class="fa fa-bookmark" style="margin-right: .5rem;"></i> Post</div> -->

                        <div class="d-flex px-3" style="width: 20%; align-items: center; justify-content: space-between;">
                            <button class="d-flex bg-light justify-content-center align-items-center shadow-0" style="height: 40px; width: 40px; border-radius: 50%;">
                        <i class="icon-copy ion-plus-round"></i>
                    </button>
                            <button class="d-flex bg-light justify-content-center align-items-center shadow-0" style="height: 40px; width: 40px; border-radius: 50%;">
                        <i class="fa fa-bookmark"></i>
                    </button>
                            <button class="d-flex bg-light justify-content-center align-items-center shadow-0" style="height: 40px; width: 40px; border-radius: 50%;">
                        <i class="icon-copy dw dw-user2"></i>
                    </button>
                            <!--<div class=" form-check form-switch">
                        <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked style="width: 80px; height: 40px;">
                    </div>
                    -->
                        </div>
                        <!-- <div class="d-flex" style="width: 20%; align-items: center; justify-content: flex-end;">
                    <div class="d-flex mx-4" style="justify-content: space-between; border: 1px solid var(--secondar); border-radius: 8px; overflow: hidden;">
                        <button class="home-view-btn px-3 py-2 active list-view-btn">List</button>
                        <button class="home-view-btn px-3 py-2 map-view-btn">Map</button>
                    </div>
                </div> -->
                        <!-- <div class="d-flex" style="width: 10%; align-items: center; justify-content: flex-end;">
                    <div class="text-white mx-4 py-2 px-3 saved-btn d-flex justify-content-center align-items-center pointer" style="border-radius: 24px; background-color: rgb(0, 0, 0); height: 48px"><i class="fa fa-bookmark" style="margin-right: .5rem;"></i> Saved</div>
                </div> -->
                    </div>
                    <!-- top sm navbar -->
                    <div class="d-flex d-md-none bg-white px-4 pt-4 pb-0" style="align-items: center; justify-content: space-between;">
                        <div class="d-flex" style="justify-content: start; align-items: center;">
                            <img class="" src="{% static 'myapp/images/logo-black.svg' %}" alt="" style="height: 40px; width: auto;">
                        </div>
                        <div class="d-flex" style="align-items: center; justify-content: flex-start;">
                            <button class="d-flex menu-btn" style="align-items: center; justify-content: center; width: 40px; height: 40px; border-radius: 50%;">
                        <span class="icon-copy ti-menu" style="font-weight: 700;"></span>
                        <!-- <i class="icon-copy ion-person"></i> -->
                    </button>
                        </div>
                    </div>
                    <!-- top sm search bar -->
                    <div class="d-flex d-md-none px-4 pt-4 pb-2" style="justify-content: center; align-items: center;">
                        <div class="d-flex px-4 search-div" style="border-radius: 14px; background-color: rgb(244, 246, 252); max-width: 696px; width: 100%;">
                            <div class="d-flex" style="justify-content: center; align-items: center;">
                                <!-- <i class="ti-search"></i> -->
                                <i class="icon-copy fa fa-search" aria-hidden="true"></i>
                            </div>
                            <div class="w-100 transparent px-3 d-flex justify-content-start align-items-center" style="height: 48px;">Search...</div>
                        </div>
                    </div>
                    <!-- bottom sm navbar -->
                    <div class="d-none d-md-none shadow px-3 bg-white nav-sm-bottom">
                        <button class="d-flex text-primary justify-content-center align-items-center shadow-0" style="height: 32px; width: 32px; border-radius: 50%;">
                    <i class="icon-copy fa fa-search" aria-hidden="true"></i>
                </button>
                        <div class="mx-4 form-check form-switch">
                            <input class="form-check-input" type="checkbox" id="flexSwitchCheckChecked" checked style="width: 64px; height: 32px;">
                        </div>
                        <button class="d-flex justify-content-center align-items-center" style="height: 32px; width: 32px; border-radius: 50%;">
                    <i class="fa fa-bookmark"></i>
                </button>
                    </div>
                    <!-- bottom sm search button -->
                    <div class="search-btn shadow text-primary d-none">
                        <i class="fa fa-search"></i>&nbsp;
                        <span>Search</span>
                    </div>
                    <!-- category title -->
                    <div class="py-2 py-md-3 bg-white" style="position: sticky; position: -webkit-sticky; top: 0; z-index: 3;">
                        <div class="category-title-bar-parent">
                            <div class="category-title-bar">
                                <div class="category-title active">Macs and Accessories</div>
                                <div class="category-title">Iphones and Accessories</div>
                                <div class="category-title">Watches</div>
                                <div class="category-title">Bracelets</div>
                            </div>
                        </div>
                    </div>
                    <!-- category grid -->
                    <div class="px-md-2 px-1 pt-2 pt-md-0 category-grid-parent">
                        <div class="category-grid">
                        </div>
                        <div class="justify-content-center loader d-flex">
                            <div class="spinner-border" role="status">
                                <span class="sr-only">Loading...</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="accessories">
                    <!-- marker -->
                    <div id="marker" class="marker d-none">
                        <div class="marker-body">
                            <div class="m-0 bg-white shadow-sm" style="height: 80px; min-height: 80px; border-radius: 16px; overflow: hidden;">
                                <div class="marker-img"></div>
                                <!-- <img class="h-100 rounded-left" src="{% if user.store.img %}{{user.store.img.url}}{% else %}{% static 'myapp/images/profile.png' %}{% endif %}" style="width: auto;"> -->
                                <div class="d-flex justify-content-center align-items-center" style="height: 24px;">
                                    <button class="text-primary">View</button>
                                    <button class="bg-primary text-white">
                                        <i class="icon-copy ion-navigate"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <svg class="marker-shadow" width="21" height="11" viewBox="0 0 21 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <ellipse id="Ellipse 30" cx="10.5" cy="5.25" rx="10.5" ry="5.25" fill="url(#paint0_radial)" fill-opacity="0.4"/>
                            <defs>
                            <radialGradient id="paint0_radial" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(10.5 5.25) rotate(90) scale(5.25 10.5)">
                            <stop/>
                            <stop offset="1" stop-opacity="0"/>
                            </radialGradient>
                            </defs>
                        </svg>
                    </div>
                    <!-- notification -->
                    <div id="savedNotification" class="d-shadow notification">
                        <div class="d-flex align-items-center m-2">
                            <div class="d-flex align-items-center">
                                <img src="" alt="" style="height: 48px; width: auto;">
                            </div>
                            <div class="info mx-3">Saved</div>
                        </div>
                    </div>
                    <!-- Activate account -->
                    <div id="emailVerificationNotification" class="notification shadow d-flex" style="justify-content: space-between; font-weight: normal;">
                        <div class="m-3">
                            Email is sent to <span id="userEmail" style="font-weight: 500;"></span>, Please verify your email to complete registration.
                        </div>
                        <button type="button" class="btn-close m-3" aria-label="Close"></button>
                    </div>
                    <div id="emailVerificationSuccessNotification" class="notification shadow d-flex" style="justify-content: space-between;">
                        <div class="m-3">
                            Thank you for your email confirmation.
                            <!-- Email is sent to <span id="userEmail"></span>, Please verify your email to complete registration. -->
                        </div>
                        <!-- <button type="button" class="btn-close m-3" aria-label="Close"></button> -->
                    </div>

                    <!-- <div id="emailVerificationNotification" class="notification shadow alert alert-dismissible show" role="alert">
                                            <strong>Holy guacamole!</strong> You should check in on some of those fields below.
                                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        </div> -->
                    <!-- profileModal btn -->
                    <!-- <button class="profile-modal-btn"></button> -->
                    <!-- post carousel -->
                    <div id="postCarousel" class="post-carousel owl-carousel owl-theme p-4">
                        <div class="item" style="border-radius: 16px;">
                            <div class="post-date mb-1 text-muted d-none"><small></small></div>
                            <div class="post-description mb-md-auto mb-4 text-muted" style="overflow-x: hidden; font-weight: 500;">{{post.description}}</div>
                        </div>
                    </div>

                    <!-- map item on post-carousel -->
                    <div id="itemPostMap" class="item d-none" style="border-radius: 16px; overflow: hidden;">
                        <div class="post-map" style="height: 240px;">
                            <div style="width: 100%; height: 100%;;"></div>
                        </div>
                    </div>
                    <!-- contact item on post-carousel -->
                    <div id="itemPostContacts" class="item post-contacts-parent p-3 bg-light text-secondary d-none" style="border-radius: 12px;">
                    </div>
                    <!-- contact item in itemPostContacts on post-carousel -->
                    <div id="PostContact" class="d-none post-contact">
                        <div class="post-contact-type" style="font-size: small;"></div>
                        <a class="text-primary d-flex clickable" href="javascript:;" target="_blank" style="justify-content: space-between;">
                            <span class="post-contact-description"></span>
                            <i class="fa fa-phone post-contact-icon"></i>
                        </a>
                    </div>
                    <!-- Modal -->
                    <div id="suggestionModal" class="modal sug-modal slide-up" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog m-0 m-sm-auto m-md-auto border-0 modal-lg">
                            <div class="modal-content m-0 border-0">
                                <div class="modal-header p-md-4">
                                    <div class="d-flex" style="justify-content: center; align-items: center; width: 100%;">
                                        <div class="d-flex px-3" style="border-radius: 14px; background-color: rgb(244, 246, 252); max-width: 696px; width: 100%; cursor: pointer;">
                                            <div class="d-flex justify-content-center align-items-center p-1 search-input-icon"><i class="ti-search"></i></div>
                                            <input type="text" class="border-0 w-100 px-3 search-input-text transparent" placeholder="Search..." name="search-input" autocomplete="off" style="height: 40px;">
                                            <button class="d-none clear-text p-1" style="align-items: center; justify-content: center; color: rgb(163, 162, 162); background-color: transparent;"><i class="icon-copy ion-close-circled"></i></button>
                                        </div>
                                    </div>
                                    <div class="d-flex align-items-center justify-content-center" style="margin-left: 24px;">
                                        <button class="d-flex modal-dismiss align-items-center justify-content-center p-0" style="height: 40px;">
                                                                Close
                                                            </button>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-1">
                                    <div class="loader d-none justify-content-center">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                    <div class="px-3 mb-2 sug-list" style="min-height: 240px;">
                                    </div>
                                    <div class="p-4 mx-4 mt-4 mb-5 m-md-auto" style="background-color: var(--teal); border-radius: 16px; max-width: 568px;">
                                        <div class="d-flex align-items-center justify-content-center mb-4">
                                            <div class="text-white h5"><b>You can look for products near you!</b></div>
                                        </div>
                                        <div class="d-flex">
                                            <div class="d-inline-block m-auto">
                                                <div class="d-flex map-btn px-3 align-items-center justify-content-center bg-white shadow-sm pointer" style="height: 40px; border-radius: 20px; color: var(--teal);"><b>Search on Map</b></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="d-flex py-4">
                                        <div class="d-inline-block m-auto">
                                            <div class="d-flex px-3 align-items-center justify-content-center text-primary bg-dark text-white" style="height: 40px; border-radius: 20px;">Categories</div>
                                        </div>
                                    </div>
                                    <div class="px-3">
                                        <div class="sug-grid bg-white">
                                            <div class="grid-item sug-grid-item">
                                                <div class="card bg-white">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/adidas-removebg-preview.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="grid-item sug-grid-item">
                                                <div class="card" style="background-color: var(--orange);">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/adidas-removebg-preview.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="grid-item sug-grid-item">
                                                <div class="card" style="background-color: var(--purple-bright);">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/benassi-jdi-slide-TDxhwg-removebg.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="grid-item sug-grid-item">
                                                <div class="card" style="background-color: var(--violet);">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/adidas-removebg-preview.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="grid-item sug-grid-item">
                                                <div class="card" style="background-color: var(--violet-orange);">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/nike-air-force-removebg-preview.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="grid-item sug-grid-item">
                                                <div class="card" style="background-color: var(--orange-light);">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/fenty-removebg-preview.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                            <div class="grid-item sug-grid-item">
                                                <div class="card" style="background-color: var(--yellow);">

                                                    <a href="{% url 'post' '498' %}">
                                                        <img class="bd-placeholder-img card-img-top" src="{% static 'myapp/images/adidas-removebg-preview.png' %}" alt="">
                                                        <div class="card-body p-2">
                                                            <p class="card-text text-white">{{item.description|truncatewords:7}}</p>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="savedModal" class="modal saved-modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="modal-header">
                                    <div class="d-flex" style="align-items: center; justify-content: center;">
                                        <button class="d-flex modal-dismiss" style="align-items: center; justify-content: center; height: 40px; width: 40px; z-index: 1">
                                                                <i class="icon-copy fa fa-chevron-left" aria-hidden="true"></i>
                                                            </button>
                                    </div>
                                    <div class="d-flex" style="justify-content: center; align-items: center; width: calc(100% - 40px); padding-right: 40px;">
                                        <div class="d-inline-block m-auto">
                                            <div class="d-flex px-3 py-2 align-items-center justify-content-center" style="border-radius: 24px; height: 40px; background-color: black; color: white;">Saved</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-1">
                                    <button class="circle-btn text-dark modal-dismiss-sticky modal-dismiss">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="d-none w-100 my-2" style="justify-content: center; align-items: center;">
                                        <div class="d-flex px-3" style="border-radius: 14px; background-color: rgb(244, 246, 252); max-width: 696px; width: 100%;">
                                            <div class="d-flex p-1" style="justify-content: center; align-items: center;"><i class="ti-search"></i></div>
                                            <input type="text" class="border-0 w-100 px-3 search-input-text transparent" placeholder="Search..." name="search-input" autocomplete="off" style="height: 48px;">
                                            <button class="d-none clear-text p-1" style="align-items: center; justify-content: center; color: rgb(163, 162, 162); background-color: transparent;"><i class="icon-copy ion-close-circled"></i></button>
                                        </div>
                                    </div>
                                    <div class="none-saved d-none align-items-center justify-content-center h-50">
                                        <div class="d-inline-block">
                                            <div class="h2">Oops!<br>You havent saved any </div>
                                        </div>
                                    </div>

                                    <div>
                                        <div class="saved-grid-parent">
                                            <div class="saved-grid">
                                            </div>
                                        </div>
                                        <div class="justify-content-center loader grid-loader" style="display: flex;">
                                            <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="searchModal" class="modal search-modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 m-md-auto p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="modal-header bg-white">
                                    <button class="circle-btn text-dark modal-dismiss" style="font-weight: bolder; margin-left: -8px;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="d-flex" style="justify-content: center; align-items: center; width: calc(100% - 40px)">
                                        <div class="d-flex px-3" style="border-radius: 14px; background-color: rgb(244, 246, 252); max-width: 696px; width: 100%;">
                                            <!-- <input type="text" class="search-box-placeholder border-0 w-100" style="height: 48px; background-color: transparent;"> -->
                                            <div class="search-box-placeholder border-0 w-100 text-truncate d-flex align-items-center" style="height: 40px; background-color: transparent;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-1">
                                    <button class="circle-btn text-dark modal-dismiss-sticky" data-bs-dismiss="modal">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="search-grid-parent">
                                        <div class="search-grid">
                                        </div>
                                    </div>
                                    <div class="justify-content-center loader grid-loader" style="display: flex;">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="contentModal" class="modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 m-md-auto p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="modal-header bg-white">
                                    <button class="circle-btn text-dark modal-dismiss" style="font-weight: bolder; margin-left: -8px;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="d-flex" style="justify-content: center; align-items: center; width: calc(100% - 40px); padding-right: 40px;">
                                        <div class="d-inline-block m-auto">
                                            <div class="d-flex px-3 py-2 align-items-center justify-content-center content-title" style="border-radius: 24px; height: 40px; background-color: black; color: white;"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-1">
                                    <button class="circle-btn text-dark modal-dismiss-sticky" data-bs-dismiss="modal">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="content-grid-parent">
                                        <div class="content-grid">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center loader grid-loader">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="postModal" class="modal post-modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="modal-header d-none">
                                    <button class="circle-btn text-dark modal-dismiss-static modal-dismiss" style="font-weight: bolder; z-index: 1;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="d-flex" style="justify-content: center; align-items: center; width: calc(100% - 40px); padding-right: 40px;">
                                        <div class="d-inline-block m-auto">
                                            <div class="d-flex px-3 py-2 align-items-center justify-content-center" style="border-radius: 24px; height: 40px; background-color: black; color: white;">Post</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-0">
                                    <button class="circle-btn text-dark modal-dismiss-sticky modal-dismiss">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="m-md-auto mb-5 mb-md-5 p-2 post-info">
                                        <div class="row p-0 m-0">
                                            <div class="col-md-7 p-0 p-md-3">
                                                <div class="p-0">
                                                    <div class="post-image-parent" style="border-radius: 32px; box-shadow: 0 8px 16px 1px rgb(0 0 0/ 8%); overflow: hidden; position: relative;">
                                                        <img class="post-image" src="" alt="">
                                                        <div class="img-loader"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-5 p-0 p-md-3 pt-4">
                                                <div class="framer-shadow mb-3" style="border-radius: 20px; overflow: hidden;">
                                                    <div class="pb-3">
                                                        <div class="post-title p-4">
                                                            <div class="d-flex align-items-center" style="justify-content: space-between;">
                                                                <div class="d-flex align-items" style="font-weight: 700; font-size: large;">Naviforce Original</div>
                                                                <button class="like-btn position-static post-like-btn bg-white d-flex justify-content-center align-items-center shadow-0" style="height: 30px; width: 30px; border-radius: 50%;">
                                                                                    <i class="like-btn-icon fa fa-bookmark-o"></i>
                                                                                </button>
                                                            </div>
                                                        </div>
                                                        <div class="d-flex mx-4" style="justify-content: space-between; border: 1px solid var(--secondar); border-radius: 8px; overflow: hidden;">
                                                            <button class="post-carousel-btn px-3 py-2 active post-details-btn">Details</button>
                                                            <button class="post-carousel-btn px-3 py-2 post-contacts-btn d-none">Contacts</button>
                                                            <button class="post-carousel-btn px-3 py-2 post-map-btn d-none">Map</button>
                                                        </div>
                                                    </div>
                                                    <div class="post-carousel-parent" style="height: 100%;">

                                                    </div>
                                                    <div class="d-flex" style="align-items: center; justify-content: center;">
                                                        <a href="" class="btn post-url text-white bg-primary px-4 d-flex align-items-center justify-content-center w-100" target="_blank" style="border-radius: 0; border-bottom-left-radius: 20px; border-bottom-right-radius: 20px; height: 48px;  background-color: #240e88">
                                                            <span class="d-flex align-items-center justify-content-center" style="font-size: small;">View on</span>&nbsp;<span class="d-flex align-items-center justify-content-center post-src text-capitalize"
                                                                style="font-weight: bold;"></span>
                                                        </a>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>

                                    <div class="d-inline-block p-3 sticky-top" style="left: 50%; transform: translate(-50%, 0)">
                                        <div class="d-flex px-3 py-2 align-items-center justify-content-center" style="border-radius: 24px; height: 40px; background-color: black; color: white;">Similar products</div>
                                    </div>
                                    <div class="search-grid-parent p-1">
                                        <div class="search-grid">
                                        </div>
                                        <div class="d-flex justify-content-center loader grid-loader">
                                            <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="mapModal" class="modal zoom-in" tabindex="-1" data-bs-backdrop="static" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="d-none modal-header">
                                    <div class="d-flex" style="align-items: center; justify-content: center;">
                                        <button class="d-flex modal-dismiss" style="align-items: center; justify-content: center; height: 40px; width: 40px; z-index: 1">
                                                                <i class="icon-copy fa fa-chevron-left" aria-hidden="true"></i>
                                                            </button>
                                    </div>
                                    <div class="d-flex" style="justify-content: center; align-items: center; width: calc(100% - 40px); padding-right: 40px;">
                                        <div class="d-inline-block m-auto">
                                            <div class="d-flex px-3 py-2 align-items-center justify-content-center" style="border-radius: 24px; height: 40px; background-color: black; color: white;">Saved</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="modal-body p-0 bg-white">
                                    <button class="circle-btn text-dark bg-white modal-dismiss" style="font-weight: bolder; position: fixed; top: 16px; left: 16px; z-index: 1;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div id="map" style="width: 100%; height: 100%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="menuModal" class="modal menu-modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="modal-header">
                                    <div class="d-flex" style="align-items: center; justify-content: center;">
                                        <button class="d-flex modal-dismiss" style="align-items: center; justify-content: center; height: 40px; width: 40px; z-index: 1">
                                                                <i class="icon-copy fa fa-chevron-left" aria-hidden="true"></i>
                                                            </button>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-1">
                                    <button class="circle-btn text-dark modal-dismiss-sticky modal-dismiss">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="d-flex py-3 mx-3 border-bottom saved-btn" style="justify-content: space-between;">
                                        <div class="d-flex justify-content-center align-items-center text-secondary" style="font-weight: 600;">Saved posts</div>
                                        <div class="saved-count bg-primary text-white px-2 d-flex justify-content-center align-items-center" style="height: 24px; border-radius: 12px; font-size: 14px;">0</div>
                                    </div>

                                    <div class="p-3">
                                        <div class="px-3 py-2">Posts</div>
                                        <div class="shadow-sm" style="border-radius: 16px; overflow: hidden;">
                                            <div class="d-flex p-3 border-bottom post-add-btn" style="justify-content: space-between;">
                                                <div class="d-flex justify-content-center align-items-center text-secondary" style="font-weight: 600;">Post product</div>
                                                <div class="bg-primary text-white px-2 d-flex justify-content-center align-items-center" style="height: 24px; border-radius: 12px; font-size: 14px;">Post</div>
                                            </div>
                                            <div class="d-flex p-3 post-add-btn" style="justify-content: space-between;">
                                                <div class="d-flex justify-content-center align-items-center text-secondary" style="font-weight: 600;">Post Ad</div>
                                                <div class="bg-primary text-white px-2 d-flex justify-content-center align-items-center" style="height: 24px; border-radius: 12px; font-size: 14px;">Post</div>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="d-flex p-3 profile-modal-btn w-100" style="justify-content: space-between;">
                                                            <div class="d-flex justify-content-center align-items-center text-secondary" style="font-weight: 600;">Accounts</div>
                                                            <!-- <div class="user-auth-loader bg-primary text-white px-2 d-flex justify-content-center align-items-center" style="height: 24px; border-radius: 12px; font-size: 14px;"> -->
                                                            <div class="d-none justify-content-center loader user-auth-loader p-0">
                                                                <div class="spinner-border" role="status" style="border-color: rgba(0, 0, 0, .55); border-right-color: transparent; width: 24px; height: 24px;">
                                                                    <span class="sr-only">Loading...</span>
                                                                </div>
                                                            </div>
                                                            <button class="d-none login-modal-btn"></button>
                                    <!-- </div> -->
                                    </button>
                                    <div class="p-3">
                                        <!-- <div class="px-3 py-2 user-auth" data-target-modal="profileModal">Accounts</div> -->
                                        <!-- <div class="shadow-sm" style="border-radius: 16px; overflow: hidden;">
                                                                <div class="d-flex p-3 login-modal-btn border-bottom" style="justify-content: space-between;">
                                                                    <div class="d-flex justify-content-center align-items-center text-secondary" style="font-weight: 600;">Have an existing account?</div>
                                                                    <div class="bg-primary text-white px-2 d-flex justify-content-center align-items-center" style="height: 24px; border-radius: 12px; font-size: 14px;">Login</div>
                                                                </div>
                                                                <div class="d-flex p-3 login-modal-btn" style="justify-content: space-between;">
                                                                    <div class="d-flex justify-content-center align-items-center text-secondary" style="font-weight: 600;">Don't have an account?</div>
                                                                    <div class="bg-primary text-white px-2 d-flex justify-content-center align-items-center" style="height: 24px; border-radius: 12px; font-size: 14px;">Create</div>
                                                                </div>
                                                            </div> -->
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                    <div id="loginModal" class="modal login-modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">

                                <div class="modal-body bg-white p-3">
                                    <button class="circle-btn modal-dismiss-sticky modal-dismiss d-block" style="box-shadow: none;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="form-width d-flex align-items-center justify-content-center m-auto" style="height: calc(100vh - 32px);">
                                        <div class="text-center" style="width: 100%;">

                                            <img class="mb-4" src="{% static 'myapp/images/logo-black.svg' %}" alt="" width="72" height="57" style="width: 72px; height: 57px">


                                            <div class="px-3 py-2">
                                                <input type="text" class="input-text" placeholder="Username" name="username" autocomplete="off" required autofocus>
                                            </div>
                                            <div class="px-3 py-2">
                                                <input type="password" class="input-text" placeholder="Password" name="password" required>
                                            </div>
                                            <div class="px-3 py-2 mb-1 text-secondary d-flex" style="justify-content: flex-end; font-size: small;">
                                                Forgotten password?
                                            </div>
                                            <div class="mb-3">
                                                Don't have account? <a class="text-primary signup-modal-btn">Sign up</a>
                                            </div>
                                            <div class="px-3 py-1 mb-2">
                                                <button class="w-100 btn btn-primary login-btn" style="border-radius: 10px; height: 40px;" disabled>
                                                                        <div class="d-flex align-items-center justify-content-center">
                                                                        Log In
                                                                        <div class="d-none justify-content-center loader p-0 px-2">
                                                                            <div class="spinner-border spinner-light spinner-sm" role="status" >
                                                                                <span class="sr-only">Loading...</span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    </button>
                                            </div>
                                            <!-- <div>
                                                                    <i class="fa fa-google" aria-hidden="true"></i>
                                                                    &nbsp;Log in with Google
                                                                </div> -->
                                            <div class="d-none status-error text-danger" style="font-weight: normal;">
                                                Incorrect password or username!
                                            </div>

                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div id="signupModal" class="modal signup-modal slide-left" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">
                                <div class="modal-header d-none">
                                    <div class="d-flex" style="align-items: center; justify-content: center;">
                                        <button class="d-flex modal-dismiss" style="align-items: center; justify-content: center; height: 40px; width: 40px; z-index: 1">
                                                                            <i class="icon-copy fa fa-chevron-left" aria-hidden="true"></i>
                                                                        </button>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-3">
                                    <button class="circle-btn modal-dismiss-sticky modal-dismiss d-block" style="box-shadow: none;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="form-width d-flex align-items-center justify-content-center m-auto" style="height: calc(100vh - 32px);">
                                        <div class="text-center" style="width: 100%;">

                                            <img class="mb-4" src="{% static 'myapp/images/logo-black.svg' %}" alt="" width="72" height="57" style="width: 72px; height: 57px">

                                            <div class="px-3 py-2">
                                                <div class="d-flex align-items-center input-text pointer">
                                                    <input type="text" class="w-100 transparent" placeholder="Username" name="signup-username" autocomplete="off" required autofocus>
                                                    <i class="d-none status-success dw dw-tick text-success"></i>
                                                    <i class="d-none status-error dw dw-cancel text-danger"></i>
                                                    <div class="d-none justify-content-center loader p-0">
                                                        <div class="spinner-border spinner-sm" role="status">
                                                            <span class="sr-only">Loading...</span>
                                                        </div>
                                                    </div>
                                                    <!-- <button class="status- p-1" style="align-items: center; justify-content: center; color: rgb(163, 162, 162); background-color: transparent;"><i class="ion-close-circled"></i></button> -->

                                                </div>
                                            </div>
                                            <div class="px-3 py-2">
                                                <div class="d-flex align-items-center input-text pointer">
                                                    <input type="password" class="transparent w-100" placeholder="Password" name="signup-password">
                                                    <div class="d-none signup-password-status" style="border-radius: 11px; font-size: small; padding: 0 8px;"></div>

                                                </div>
                                            </div>
                                            <div class="px-3 py-2">
                                                <div class="d-flex align-items-center input-text pointer">
                                                    <input type="password" class="w-100 transparent" placeholder="Confirm Password" name="signup-password-confirm" disabled>
                                                    <i class="d-none status-success dw dw-tick text-success"></i>
                                                    <i class="d-none status-error dw dw-cancel text-danger"></i>
                                                </div>
                                            </div>
                                            <div class="px-3 py-2 mb-3">
                                                <div class="d-flex align-items-center input-text pointer">
                                                    <input type="email" class="w-100 transparent" placeholder="Email" name="signup-email" disabled>
                                                    <i class="d-none status-success dw dw-tick text-success"></i>
                                                    <i class="d-none status-error dw dw-cancel text-danger"></i>

                                                </div>
                                            </div>
                                            <!-- <div class="text-secondary" style="text-align: left;">
                                                                    <div class="px-3 py-2 d-flex" style="justify-content: flex-start;">
                                                                        Security Question
                                                                    </div>
                                                                    <div class="px-3 py-2">
                                                                        <div class="pt-1 pb-2" style="font-size: small;">What was your first nickname?</div>
                                                                        <input type="text" class="input-text" name="signup-sq-1" required>
                                                                    </div>
                                                                    <div class="px-3 py-2">
                                                                        <div class="pt-1 pb-2" style="font-size: small;">What was your first crush's name?</div>
                                                                        <input type="text" class="input-text" name="signup-sq-2" required>
                                                                    </div>
                                                                    <div class="px-3 py-2 mb-3">
                                                                        <div class="pt-1 pb-2" style="font-size: small;">What was your first pet's name?</div>
                                                                        <input type="text" class="input-text" name="signup-sq-3" required>
                                                                    </div>
                                                                </div> -->
                                            <div class="px-3 py-2">
                                                <button class="w-100 btn btn-primary signup-btn" style="border-radius: 10px; height: 40px;" disabled>
                                                                        <div class="d-flex align-items-center justify-content-center">
                                                                            Sign Up
                                                                            <div class="d-none justify-content-center loader p-0 px-2">
                                                                                <div class="spinner-border spinner-light spinner-sm" role="status" >
                                                                                    <span class="sr-only">Loading...</span>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </button>
                                            </div>
                                            <div class="d-none signup-status-error text-danger" style="font-weight: normal;">
                                                <!-- <i class="icon-copy fa fa-exclamation" aria-hidden="true"></i>&nbsp;Error occured, Please try again! -->
                                                <i class="icon-copy fa fa-exclamation" aria-hidden="true"></i>&nbsp;Username is not available!
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div id="profileModal" class="modal login-modal slide-left user-auth" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0" style="height: 100vh;">

                                <div class="modal-body p-0 bg-white">
                                    <button class="circle-btn modal-dismiss-sticky modal-dismiss">
                                                                <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <!-- <div></div> -->
                                    <div class="d-flex align-items-center p-3" style="justify-content: space-between; position: relative;">
                                        <div class="d-flex pointer" style="align-items: center; justify-content: space-between;">
                                            <button class="d-flex modal-dismiss" style="align-items: center; justify-content: center; height: 40px; width: 40px; margin-left: -16px;">
                                                                    <i class="icon-copy fa fa-chevron-left" aria-hidden="true"></i>
                                                                </button>
                                        </div>

                                        <div class="d-flex text-primary px-2 pointer edit-profile-btn" style="justify-content: center; align-items: center; position: absolute; left: 50%; height: 56px; transform: translate(-50%, 0);">Edit</div>
                                        <div class="d-flex text-secondary border px-2 pointer logout-btn" style="justify-content: center; align-items: center; border-radius: 12px; height: 24px; font-size: x-small;">
                                            <div><span class="icon-copy ti-power-off"></span>&nbsp;Log Out</div>
                                            <div class="d-none justify-content-center loader p-0" style="padding-left: 8px;">
                                                <div class="spinner-border spinner-sm" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="d-flex px-2 pointer" style="font-size: 24px;"><i class="icon-copy fa fa-gear" aria-hidden="true"></i></div> -->
                                    </div>
                                    <div class="d-flex align-items-center justify-content-center m-auto my-3" style="max-width: 576px;">
                                        <div class="p-3 w-100">
                                            <div class="d-flex justify-content-center align-items-center mb-4">
                                                <div>
                                                    <div class="d-flex justify-content-center align-items-center" style="width: 112px; height: 112px; border-radius: 50%; overflow: hidden;">
                                                        <img id="profileImg" class="d-block" src="{% static 'myapp\images\user-icon.png' %}" alt="" style="width: 100%; height: 100%">
                                                    </div>
                                                    <div class="edit-profile-img d-none text-primary text-center p-2">Edit</div>
                                                    <form enctype="multipart/form-data" id="profileImgForm">
                                                        <input id="profileImgInput" type="file" name="file" data-url="{% url 'profile_data'%}" data-form-data="{'csrfmiddlewaretoken': '{{ csrf_token }}'}" accept="image/*" hidden>
                                                    </form>
                                                </div>
                                            </div>
                                            <div class="px-3 py-2 text-center" style="font-size: x-large; font-weight: bold;">
                                                Masuke Mbosela
                                                <!-- Suke Classic -->
                                            </div>
                                            <div class="d-none px-3 py-2 text-center" style="font-size: large; font-weight: bold;">
                                                <!-- Suke Classic -->
                                            </div>
                                            <div class="d-flex align-items-center justify-content-center mb-4">
                                                <div class="px-3 py-2 text-secondary" style="font-weight: bold;">
                                                    @<span class="profile-username"></span>
                                                </div>
                                                <div class="px-3 py-2 text-secondary" style="font-weight: bold;">
                                                    500 Posts
                                                </div>
                                                <div class="px-3 py-1 my-2 mb-1 bg-primary text-white d-flex align-items-center justify-content-center" style="font-size: small; border-radius: 10px;">
                                                    <i class="fa fa-plus" aria-hidden="true"></i>&nbsp;Post
                                                </div>
                                            </div>

                                            <div class="d-none mx-3 px-3 py-2 my-2 bg-light" style="border-radius: 16px;">
                                                <div class="profile-contact">
                                                    <div class="profile-contact-type" style="font-size: small;">Whatsapp</div>
                                                    <a class="text-primary d-flex clickable" href="javascript:;" style="justify-content: space-between;">
                                                        <span class="profile-contact-description">0658589758</span>
                                                        <i class="fa fa-phone profile-contact-icon"></i>
                                                    </a>
                                                </div>
                                            </div>

                                            <div class="d-flex align-items-center justify-content-center text-secondary mb-4" style="font-weight: normal;">
                                                <div class="px-3 mx-1 py-1 bg-light" style="border-radius: 20px;">
                                                    0658589758
                                                </div>
                                                <div class="px-3 mx-1 py-1 bg-light" style="border-radius: 20px;">
                                                    0658589758
                                                </div>
                                                <!--<div class="px-3 bg-light mx-1 py-1 d-flex align-items-center justify-content-center" style="border-radius: 20px;">-->
                                                <!--    0658589758-->
                                                <!--</div>-->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="p-1">
                                        <div class="profile-grid grid"></div>
                                        <div class="justify-content-center loader d-flex">
                                            <div class="spinner-border" role="status">
                                                <span class="sr-only">Loading...</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                    <div id="profilePreviewModal" class="modal preview-modal slide-up" data-bs-backdrop="static" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog  modal-fullscreen m-0 p-0 rounded-0 border-0" style="height: 100vh;">
                            <div class="modal-content m-0 rounded-0 border-0">
                                <div class="modal-header d-none">
                                    <div class="d-flex" style="align-items: center; justify-content: center;">
                                        <button class="d-flex modal-dismiss" style="align-items: center; justify-content: center; height: 40px; width: 40px; z-index: 1">
                                                                <i class="icon-copy fa fa-chevron-left" aria-hidden="true"></i>
                                                            </button>
                                    </div>
                                </div>
                                <div class="modal-body bg-white p-0">
                                    <button class="circle-btn modal-dismiss-sticky modal-dismiss d-block transparent" style="box-shadow: none;">
                                                            <i class="fa fa-chevron-left circle-btn-item"></i>
                                                        </button>
                                    <div class="form-width d-flex align-items-center justify-content-center m-auto bg-dark" style="height: 100vh;">
                                        <div class="text-center" style="width: 100%;">
                                            <!-- <img id="image" class="mb-4" src="" alt="" style="width: 100%; height: 100%"> -->

                                            <!-- <img class="mb-4" id="image" src="{% static 'myapp/images/logo-black.svg' %}" alt="" width="72" height="57" style="width: 72px; height: 57px"> -->
                                            <div class="img-preview"></div>
                                            <img class="img-preview-2">

                                            <div class="pz-2 crop-btn text-white pointer">Choose</div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="d-flex nav-sm-bottom-parent d-md-none">
                <div class="d-flex nav-sm-bottom px-3" style="width: auto; align-items: center; justify-content: space-between;">
                    <button class="nav-sm-bottom-item active">
                        <i class="icon-copy dw dw-home"></i>
                        <!-- <i class="icon-copy ion-plus-round"></i> -->
                    </button>
                    <button class="nav-sm-bottom-item map-btn">
                        <i class="fa fa-map"></i>
                    </button>
                    <button class="nav-sm-bottom-item search-btn-2 d-none">
                        <i class="icon-copy fa fa-search"></i>
                    </button>
                    <button class="nav-sm-bottom-item saved-btn">
                        <i class="fa fa-bookmark"></i>
                    </button>
                    <button class="nav-sm-bottom-item profile-modal-btn">
                        <i class="icon-copy dw dw-user2"></i>
                    </button>
                </div>
            </div>
        </div>



        <div id="components" class="d-none">
            <div class="grid-item" id="gridItem">
                <div class="card border-0 card-id" style="padding: 0;">
                    <button class="like-btn shadow-sm d-flex align-items-center justify-content-center m-2 btn-id">
                        <i class="like-btn-icon fa fa-bookmark-o"></i>
                    </button>
                    <a href="javascript:;">
                        <img class="" src="" alt="">
                    </a>
                    <div class="img-loader"></div>
                </div>
            </div>
        </div>
    </main>
    <script src="{% static 'myapp\js\jquery.min.js' %}"></script>
    <script src="{% static 'myapp/assets/dist/js/bootstrap.bundle.min.js' %}"></script>
    <!-- <script src="{% static 'myapp\js\jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'myapp\js\infinite.min.js' %}"></script> -->
    <script src="{% static 'myapp\custom-js\masonry.pkgd.min.js' %}"></script>
    <script src="{% static 'myapp\custom-js\infinite-scroll.pkgd.min.js' %}"></script>
    <script src="{% static 'myapp\custom-js\imagesloaded.pkgd.min.js' %}"></script>
    <script src="{% static 'myapp\custom-js\core.js' %}"></script>
    <!-- <script src="{% static 'myapp\custom-js\sug.js' %}"></script> -->
    <script src="{% static 'myapp\custom-js\OwlCarousel2-2.3.4\OwlCarousel2-2.3.4\dist\owl.carousel.js' %}"></script>
    <!-- crop me -->
    <script src="{% static 'myapp\custom-js\cropme-master\dist\cropme.min.js' %}"></script>


    <!--<script src="{% static 'myapp\custom-js\jquery-file-upload\js\jquery.ui.widget.js' %}"></script>-->
    <!-- <script src="https://cdn.jsdelivr.net/npm/jquery.ui.widget@1.10.3/jquery.ui.widget.js"></script>
    <script src="{% static 'myapp\custom-js\jquery-file-upload\js\jquery.iframe-transport.js' %}"></script>
    <script src="{% static 'myapp\custom-js\jquery-file-upload\js\jquery.fileupload.js' %}"></script> -->

    <!-- <script src="{% static 'myapp\custom-js\main.js' %}"></script> -->
    <script>
        $(window).on('load', function() {
            // $('.page-loader img').fadeIn(600)
            setTimeout(function() {
                $('.page-loader img').fadeOut(600)
            }, 1200)
            setTimeout(function() {
                $('.page-loader').fadeOut(600)
            }, 1800)
        });
        $(document).ready(function() {
            var searchInput;
            var prevModalIndex = 0;
            var currentModalIndex = 0;
            var homePage = 1;
            var categoryPage = 1;
            var openModalCount = 0;
            var modalAnimationDuration = 300;
            var openModalList = [];
            var openModalIdList = [];
            var notClicked = true;
            var user = "{{request.user}}"
            var categoryParent = $('.category-grid-parent')


            var scrollTimer = null;
            $('.view-port-child, .modal-body').scroll(function() {
                if ($('.view-port-child, .modal-body').scrollTop() < 192) {
                    if (scrollTimer) {
                        clearTimeout(scrollTimer); // clear any previous pending timer
                    }
                }
                scrollTimer = setTimeout(handleScroll, 100); // set new timer
            });

            function handleScroll() {
                scrollTimer = null;
                if ($('.view-port-child, .modal-body').scrollTop() >= 192) {
                    $('.search-btn-2').removeClass('d-none')
                    setTimeout(function() {
                        $('.search-btn-2').addClass('show');
                    }, 50)
                } else {
                    $('.search-btn-2').removeClass('show');
                    setTimeout(function() {
                        $('.search-btn-2').addClass('d-none');
                    }, 300)
                };
            }

            function userAuth(thisEle, myFunc) {
                $.ajax({
                    url: "/user-auth/",
                    data: {
                        'userAuthGet': true
                    },
                    beforeSend: function() {
                        try {
                            thisEle.find('.loader').removeClass('d-none').addClass('d-flex')
                        } catch (err) {}
                    },
                    success: function(data) {
                        try {
                            thisEle.find('.loader').removeClass('d-flex').addClass('d-none')
                        } catch (err) {}

                        if (data == "user-auth-success") {
                            /* var split_msg = data.split('>')
                             var modalId = split_msg[1]
                             var modalName = modalId.replace('Modal', '')
                             alert('me')
                             $('.' + modalName + '-modal-btn').click() */

                            myFunc

                        } else {
                            // $('#loginModal').modal('show')
                            $('.login-modal-btn').click()
                                // return false
                        }
                    }
                })
            }


            function modal(modalId, windowUrl, ajaxUrl, ajaxData) {
                var openModal = $('#' + modalId)
                if (notClicked == true) {
                    openModalCount++
                    prevModalIndex = currentModalIndex
                    currentModalIndex++

                } else {
                    notClicked = true
                    prevModalIndex = currentModalIndex
                    currentModalIndex++
                    openModalCount = currentModalIndex

                    var index = currentModalIndex - 1
                    openModalList.splice(index)
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex)
                    console.log('not trimmed ' + openModalIdList)
                    var str = openModalIdList.join('+')
                    openModalIdList.splice(index)
                    for (let id of str.split('+')) {

                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id)
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            }
                        }
                    }

                    console.log('remained ' + openModalIdList)
                    console.log('removed ' + str.split('+'))
                    console.log(prevModalIndex + ' ' + currentModalIndex)

                }

                openModalIdList.push(openModal.attr('id'));
                openModal.css('z-index', openModalCount + 3)
                if (openModal.find('.grid').length) {
                    var grid = openModal.find('.grid').masonry({
                        itemSelector: '.grid-item',
                        columnWidth: '.grid-item',
                        percentPosition: true
                    })
                    openModalList.push({
                        key: openModal.attr('id'),
                        value: grid
                    });
                    grid.empty()
                    setTimeout(function() {
                        //$.ajax({
                        //    url: ajaxUrl,
                        //    data: ajaxData,
                        //    beforeSend: function() {
                        //        // $('.category-grid-loader').removeClass('d-none').addClass('d-flex')
                        //    },
                        //    success: function(data) {
                        //
                        //        // $('.category-grid-loader').removeClass('d-flex').addClass('d-none')
                        //        appendItems(data, grid, openModal)
                        //    },
                        //});
                        var page = 1;


                        $.ajax({
                            url: ajaxUrl,
                            data: {
                                "query": ajaxData,
                                "page": page
                            },
                            success: function(data) {
                                //openModal.find(".loader").removeClass("d-flex").addClass("d-none");

                                appendItems(data, grid, openModal)
                                page++
                                var notSent = true
                                openModal.find('.modal-body').scroll(function() {

                                    //console.log(notSent)
                                    if (openModal.find('.loader.d-flex').isOnScreen() && (notSent) && (grid)) {
                                        console.log(grid)
                                        notSent = false

                                        $.ajax({
                                            url: ajaxUrl,
                                            data: {
                                                "query": ajaxData,
                                                "page": page
                                            },

                                            success: function(data) {
                                                appendItems(data, grid, openModal)
                                                page++
                                                notSent = true
                                            }
                                        });
                                    }

                                })

                            }
                        });

                        openModal.find('.modal-body').scroll(function(e) {
                            if ($(this).scrollTop() > 73) {
                                $(this).find('.modal-dismiss-sticky').show();
                                $(this).find('.modal-dismiss-static').hide();
                            } else {
                                $(this).find('.modal-dismiss-sticky').hide();
                                $(this).find('.modal-dismiss-static').show();
                            }

                        });

                    }, modalAnimationDuration)

                }
                openModal.modal('show')

                var title = 'null'
                    // if (modalId == 'profileModal'){
                    //     windowUrl = windowUrl + ''
                    // }
                window.history.pushState(openModal.attr('id'), title, windowUrl);

                return openModal
            }

            function card(itemId, itemImgSrc, itemLiked) {

                var gridItem = $("#gridItem").clone().removeAttr('id');

                gridItem.find('.card').addClass('id-' + itemId + '');
                gridItem.find('.like-btn').addClass('id-' +
                    itemId + '');
                gridItem.find('img').attr('src', itemImgSrc);
                /* change bookmark icon and btn value  */
                if (itemLiked == "yes") {
                    gridItem.find('.like-btn-icon').removeClass('fa-bookmark-o').addClass('fa-bookmark');
                    gridItem.find('like-btn').val('liked');
                };
                return gridItem;
            };

            function appendItems(data, msnryObj, openModal) {

                for (let item in data) {
                    var itemId = data[item]['id'];
                    var itemImgSrc = data[item]['img'];
                    var itemImgHeightWidthRatio = data[item]['img_height_width_ratio'];
                    var itemLiked = data[item]['liked'];
                    var gridItem = card(itemId, itemImgSrc, itemLiked);
                    //msnryObj.append('<div class="grid-item" style="height: 400px; width: 100%;"><div class="bg-light h-100 w-100 m-3"></div></div>')

                    msnryObj.append(gridItem).masonry('appended', gridItem);
                    /* added  */
                    var loaderWidth = gridItem.find('.img-loader').width();
                    /* gridItem.find('.img-loader').height(itemImgHeightWidthRatio * loaderWidth) */
                    gridItem.find('.card').height(itemImgHeightWidthRatio * loaderWidth);
                    // console.log(gridItem.height())
                    msnryObj.masonry('layout');
                };
                openModal.find('.grid-loader').removeClass('d-flex').addClass('d-none');
                msnryObj.imagesLoaded().progress(function(imgLoad, image) {
                    $(image.img).parents('.card').find('.img-loader').remove();
                    $(image.img).parents('.card').css("height", "auto")
                }).done(function() {
                    // msnryObj.find('.img-loader').remove()
                    // msnryObj.masonry('layout');
                    if (openModal.attr('id') != 'savedModal') {
                        openModal.find('.grid-loader').removeClass('d-none').addClass('d-flex');
                    };
                });
            };

            function searchBtnShow(parent) {
                $(parent).scroll(function() {
                    if ($(this).scrollTop() >= 192) {
                        $(".search-btn").addClass('show');
                    } else {
                        $(".search-btn").removeClass('show');
                    };
                });
            };


            function truncate(str, no_words) {
                return str.split("").splice(0, no_words).join("");
            };

            var categoryGrid = $('.category-grid').masonry({
                itemSelector: '.grid-item',
                columnWidth: '.grid-item',
                percentPosition: true
            });

            $.ajax({
                url: "/home-data/",
                data: {},
                beforeSend: function() {

                },
                success: function(data) {
                    if (data.length > 0) {
                        var message = data[0]
                        split_msg = message.split('>')
                        if (split_msg[0] == 'open') {
                            var modalId = split_msg[1]
                            if (modalId == 'contentModal') {
                                var btnIndex = 0
                                if (split_msg[2] == 'from-instagram') {
                                    btnIndex = 0
                                } else if (split_msg[2] == 'macbooks-and-accessories') {
                                    btnIndex = 1
                                } else if (split_msg[2] == 'iphone-and-accessories') {
                                    btnIndex = 2
                                } else if (split_msg[2] == 'wrist-decors') {
                                    btnIndex = 3
                                }
                                var btnList = $.find('.categories-btn')
                                btnList[btnIndex].click()

                            } else if (modalId == 'category') {
                                var btnIndex = 0
                                var ct = split_msg[2]
                                var categoryTitleList = $.find('.category-title')


                                // if (split_msg[2] == 'from-instagram') {
                                //     btnIndex = 0
                                // } else if (split_msg[2] == 'macbooks-and-accessories') {
                                //     btnIndex = 1
                                // } else if (split_msg[2] == 'iphone-and-accessories') {
                                //     btnIndex = 2
                                // } else if (split_msg[2] == 'wrist-decors') {
                                //     btnIndex = 3
                                // }
                                var btnList = $.find('.categories-btn')
                                btnList[btnIndex].click()

                            } else if (modalId == 'postModal') {

                                var gridItem = $('#gridItem').clone().removeAttr('id')
                                var cardId = split_msg[2]
                                var cardClicked = gridItem.find('.card').addClass('id-' + cardId)
                                $('main').append(gridItem)
                                cardClicked.find('a').click()
                                gridItem.remove()

                            } else if (modalId == 'searchModal') {

                                var searchQuery = split_msg[2]
                                if (searchQuery == '...') {
                                    $('.search-div').last().click()
                                } else {
                                    var sugItemList = $('<div class="sug-list-item"></div>').html(searchQuery)
                                    $('main').append(sugItemList)
                                    sugItemList.click().remove()
                                }
                            } else if (modalId == 'savedModal') {

                                $('.saved-btn').last().click()
                            } else if (modalId == 'menuModal') {

                                $('.menu-btn').last().click()
                            } else if (modalId == 'profileModal') {

                                $('.profile-modal-btn').last().click()
                                if (split_msg[2] == 'email-verification-success') {
                                    var notification = $('#emailVerificationSuccessNotification')
                                    var nClass;
                                    user = split_msg[3]
                                        // alert(split_msg[2])

                                    if ($('.search-btn').hasClass('show')) {
                                        nClass = 'show-w-search'
                                    } else {
                                        nClass = 'show'
                                    }

                                    notification.addClass(nClass)
                                    setTimeout(function() {
                                        notification.removeClass(nClass)
                                    }, 6400)
                                }

                            } else if (modalId == 'loginModal') {

                                $('.login-modal-btn').last().click()
                            } else if (modalId == 'profileModal') {

                                $('.profile-modal-btn').click()
                            } else if (modalId == 'mapModal') {

                                $('.map-btn').last().click()
                            } else if (modalId == 'signupModal') {

                                $('.signup-modal-btn').last().click()
                            }
                        }
                    }
                }
            })

            $.ajax({
                url: "/home-data/",
                data: {
                    'page': categoryPage,
                    'query': 'macbook'
                },
                beforeSend: function() {
                    // $('.category-grid-loader').removeClass('d-none').addClass('d-flex')
                },
                success: function(data) {

                    // $('.category-grid-loader').removeClass('d-flex').addClass('d-none')
                    appendItems(data, categoryGrid, categoryParent)

                    var notSent = true
                    $('.view-port-child').scroll(function() {
                        // alert('l')
                        if (categoryParent.find('.loader.d-flex').isOnScreen() && (notSent)) {
                            notSent = false
                            $.ajax({
                                url: "/home-data/",
                                data: {
                                    page: categoryPage,
                                },

                                success: function(data) {
                                    appendItems(data, categoryGrid, categoryParent)
                                    notSent = true

                                    categoryPage++
                                }
                            });
                        }
                    })

                }
            })

            $(window).on('popstate', function(event) {
                // works only when not opening new modal
                var currentModalId = window.history.state
                var openModalIdListCount = openModalIdList.length
                var index = currentModalIndex - 1

                var prevModalId = openModalIdList[index]
                if (notClicked) {
                    // going back for the first time
                    console.log(openModalIdList)
                    notClicked = false


                    var openModal = $('#' + prevModalId)
                        // new add
                    if (openModal.hasClass('show')) {
                        // alert('going back once ' + currentModalId + ' ' + prevModalId)
                        // end of new add
                        openModal.removeClass('show')
                        setTimeout(function() {
                            openModal.modal('hide')
                        }, 300)

                        prevModalIndex = currentModalIndex
                        currentModalIndex--

                        // new add
                    } else {
                        // alert('going forward once ' + currentModalId + ' ' + prevModalId)
                        var openModal = $('#' + currentModalId)
                        if (currentModalId == 'suggestionModal') {

                        } else if (currentModalId == 'contentModal') {

                        } else if (currentModalId == 'savedModal') {

                        } else if (currentModalId == 'postModal') {

                        }
                        location.reload()
                            // openModal.modal('show')
                            // prevModalIndex = currentModalIndex
                            // currentModalIndex++
                    }
                    // end of new add

                } else {
                    // not for first time
                    var openModal = $("#" + currentModalId)
                    if (openModal.hasClass('show')) {
                        // alert(prevModalIndex + ' ' + currentModalIndex)

                        // going back

                        // alert('going back ' + currentModalIndex + ' ' + prevModalIndex + ' prev modal Id ' + prevModalId)
                        var openModal = $("#" + prevModalId)


                        openModal.removeClass('show')
                        setTimeout(function() {
                            openModal.modal('hide')
                        }, 300)
                        prevModalIndex = currentModalIndex
                        currentModalIndex--

                        // show search btn on sug-modal close
                        if (openModal.attr('class').includes('sug-modal')) {
                            if ($(document).scrollTop() >= 192) {
                                $(".search-btn").addClass('show')
                            }
                        }


                    } else {
                        try {
                            if (openModal.attr('class').includes('modal'))
                            // going forward
                            // alert('going forward ' + currentModalIndex + ' ' + openModalIdList[prevModalIndex])
                                console.log(openModalIdList, prevModalIndex)
                            if (openModal.attr('class').includes('user-auth')) {
                                userAuth(null, openModal.modal('show'))

                            } else {
                                openModal.modal('show')
                            }


                            prevModalIndex = currentModalIndex
                            currentModalIndex++
                        } catch (err) {

                            var openModal = $("#" + prevModalId)
                                // alert('going back to ' + prevModalId + ' end ' + err.message)

                            openModal.removeClass('show')
                            setTimeout(function() {
                                openModal.modal('hide')
                            }, 300)
                            $('.search-btn').removeClass('show')
                            prevModalIndex = currentModalIndex
                            currentModalIndex--
                        }

                    }
                }

            });

            $('.category-title').click(function() {
                $('.category-title').removeClass('active')
                $(this).addClass('active')
                var text = $(this).text()
                var index = $('.category-title').index($(this))
                var title = 'Category - ' + text
                    // window.history.pushState('category-title', title,"/sort/" + text +"/");

                var queryList = ['macbook', 'iphone', 'watch', 'bracelet']
                $('.category-grid').empty().height(0)

                $.ajax({
                    url: "/home-data/",
                    data: {
                        'page': categoryPage,
                        'query': queryList[index]
                    },
                    beforeSend: function() {
                        $('.category-grid-loader').removeClass('d-none').addClass('d-flex')
                    },
                    success: function(data) {
                        $('.category-grid-loader').removeClass('d-flex').addClass('d-none')
                        appendItems(data, categoryGrid, categoryParent)

                        var notSent = true
                        $('body').scroll(function() {
                            if (categoryParent.find('.loader').isOnScreen() && (notSent)) {
                                notSent = false

                                $.ajax({
                                    url: "/home-data/",
                                    data: {
                                        page: categoryPage,
                                    },
                                    success: function(data) {
                                        // openModal.find('.loader').removeClass('d-flex').addClass('d-none')
                                        appendItems(data, categoryGrid, categoryParent)
                                        notSent = true

                                        categoryPage++
                                    }
                                });
                            }
                        })

                    }
                })
            });

            $('.logout-btn').click(function() {
                var thisEle = $(this)

                $.ajax({
                    url: "/accounts/logout/",

                    beforeSend: function() {
                        thisEle.find('.loader').removeClass('d-none').addClass('d-flex')
                    },
                    success: function(data) {
                        history.back()
                        window.history.pushState('Home', 'Home', "/");
                        window.localStorage.clear()
                        location.reload()
                        thisEle.find('.loader').removeClass('d-flex').addClass('d-none')
                        user = "AnonymousUser"
                    }
                })

            });

            $('#loginModa').on('shown.bs.modal', function() {
                if (notClicked == true) {
                    openModalCount++
                    prevModalIndex = currentModalIndex
                    currentModalIndex++

                } else {
                    notClicked = true
                    prevModalIndex = currentModalIndex
                    currentModalIndex++
                    openModalCount = currentModalIndex

                    var index = currentModalIndex - 1
                    openModalList.splice(index)
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex)
                    console.log('not trimmed ' + openModalIdList)
                    var str = openModalIdList.join('+')
                    openModalIdList.splice(index)
                    for (let id of str.split('+')) {

                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id)
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            }
                        }
                    }

                    console.log('remained ' + openModalIdList)
                    console.log('removed ' + str.split('+'))
                    console.log(prevModalIndex + ' ' + currentModalIndex)

                }

                var openModal = $(this)
                openModal.css('z-index', openModalCount + 3)

                openModalList.push({
                    key: openModal.attr('id'),
                    value: null
                });
                var title = 'Login'
                window.history.pushState(openModal.attr('id'), title, "/accounts/login/");
                openModalIdList.push(openModal.attr('id'));


                openModal.modal('show')

            })

            $('.login-modal-btn').click(function() {
                modal('loginModal', '/accounts/login', )

                $('#loginModal').modal('show')
            });
            $('.signup-modal-btn').click(function() {
                modal('signupModal', '/accounts/signup', )

            });


            $('.profile-modal-btn').click(function() {
                var ajaxData = "macbook";
                //var ajaxData = {
                //    //'page': 1,
                //    'query': 'macbook'
                //};
                var ajaxUrl = "/home-data/";
                if (user == "AnonymousUser") {
                    $('.login-modal-btn').last().click()
                } else {
                    userAuth($(this), modal('profileModal', '/profile/' + user, ajaxUrl, ajaxData))
                    $('#profileModal').find('.profile-username').text(user)
                }

            });

            $('.login-btn').click(function() {
                var username = $('#loginModal input[name="username"]').val()
                var password = $('#loginModal input[name="password"]').val()
                var thisEle = $(this)

                $.ajax({
                    url: "/accounts/login/",
                    data: {
                        'username': username,
                        'password': password
                    },
                    beforeSend: function() {
                        thisEle.find('.loader').removeClass('d-none').addClass('d-flex')

                    },
                    success: function(data) {
                        thisEle.find('.loader').removeClass('d-flex').addClass('d-none')

                        if (data[0] == 'user-auth-success') {
                            user = data[1]
                            $('.profile-modal-btn').click()

                        } else {
                            $('#loginModal .status-error').removeClass('d-none')

                        }
                    }
                })

            });
            $('#emailVerificationNotification .btn-close').click(function() {
                $(this).parent().removeClass('show')
            })
            $('.signup-btn').click(function() {
                $('#emailVerificationNotification').removeClass('show')
                var username = $('#signupModal input[name="signup-username"]').val()
                var password = $('#signupModal input[name="signup-password"]').val()
                var email = $('#signupModal input[name="signup-email"]').val()
                var thisEle = $(this)

                $.ajax({
                    url: "/accounts/signup/",
                    data: {
                        'username': username,
                        'password': password,
                        'email': email,

                    },
                    beforeSend: function() {
                        thisEle.find('.loader').removeClass('d-none').addClass('d-flex')

                    },
                    success: function(data) {
                        thisEle.find('.loader').removeClass('d-flex').addClass('d-none')

                        if (data[0] == 'user-signup-success') {
                            user = data[1]
                                // $('.profile-modal-btn').click()
                            if ($('#loginModal').hasClass('show')) {
                                history.back()
                            } else {
                                $('.login-modal-btn').last().click()
                            }

                            $('#userEmail').text(data[2])
                            var notification = $('#emailVerificationNotification')
                            if ($('.search-btn').hasClass('show')) {
                                notification.addClass('show-w-search')

                            } else {
                                notification.addClass('show')

                            }
                            $('#signupModal input[name="signup-username"]').val("");
                            $('#signupModal input[name="signup-password"]').val("");
                            $('#signupModal input[name="signup-password-confirm"]').val("");
                            $('#signupModal input[name="signup-email"]').val("");
                            $('.signup-btn').prop('disabled', true);

                        } else {
                            $('#signupModal .signup-status-error').removeClass('d-none')

                        }
                    }
                })

            });

            $('.post-add-btn').click(function() {
                $.ajax({
                    url: "/home-data/",
                    data: {},
                    beforeSend: function() {},
                    success: function(data) {

                    },
                });
            });

            $('.edit-profile-btn').click(function() {
                var txt = $(this).text()
                if (txt === "Edit") {
                    $(this).text("Save")
                    $('.edit-profile-img').removeClass('d-none')
                } else {
                    $(this).text("Edit")
                    $('.edit-profile-img').addClass('d-none')
                    var f = $("#profileImgForm")
                    var fd = new FormData();


                    var files = $('#profileImgInput')[0].files;
                    /* var files = $('#profileImgInput').prop("files")[0]; */

                    console.log(files.length)
                        // if (files.length > 0) {
                        //     $('#profileImgInput').fileupload({
                        //         dataType: 'json',
                        //         done: function(e, data) {
                        //             // 3. PROCESS THE RESPONSE FROM THE SERVER
                        //             if (data.result.is_valid) {
                        //                 alert('l')

                    //             };
                    //         },
                    //     });
                    //     fd.append("file","files");
                    //     console.log(fd);
                    //     //alert("save");
                    //     $.ajax({
                    //         url:"/profile-data/",
                    //         /* type:"post",
                    //          cache: false, */
                    //         contentType: false,
                    //         processData: false,
                    //         data: fd,
                    //         success: function() {
                    //             /* alert("save") */
                    //         },
                    //     });
                    // };

                };
            });
            $('.edit-profile-img').click(function() {
                $('#profileImgInput').click()
            });
            var cp;
            $('#profileImgInput').change(function() {
                modal('profilePreviewModal', '#profile-img-preview', );
                $('#profilePreviewModal').modal('show')
                cp = $('.img-preview').cropme({
                    "container": {
                        "width": "100%",
                        "height": 400
                    },
                    "viewport": {
                        "width": 200,
                        "height": 200,
                        "type": "circle",
                        "border": {
                            "width": 2,
                            "enable": true,
                            "color": "#fff"
                        }
                    },
                    "zoom": {
                        "enable": true,
                        "mouseWheel": true,
                        "slider": false
                    },
                    "rotation": {
                        "slider": false,
                        "enable": false,
                        "position": "left"
                    },
                    "transformOrigin": "viewport"
                });
                var file = document.getElementById('profileImgInput').files[0]
                const reader = new FileReader();
                reader.addEventListener('load', function() {
                    cp.cropme('bind', {
                        url: reader.result,
                    });
                }, false);
                if (file) {
                    reader.readAsDataURL(file)
                }
            });
            $('#profilePreviewModal').on('hidden.bs.modal', function() {
                /* $('#profileImgInput').val('');  */
                cp.cropme('destroy');
            });
            $('.crop-btn').click(function() {
                cp.cropme('crop', {
                    type: "base64",
                    width: 200
                }).then(function(res) { // var position = cp.cropme('position'); // console.log(position)
                    $('#profileImg').attr('src', res);
                    history.back();
                });
            });
            $('.map-btn').click(function() {
                if (notClicked == true) {
                    openModalCount++;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                } else {
                    notClicked = true;
                    prevModalIndex
                        = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex;
                    var index = currentModalIndex - 1;
                    openModalList.splice(index);
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join(' + ');
                    openModalIdList.splice(index);
                    for (let id of str.split(' + ')) {
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove();
                            } else {
                                $('#' + id).modal('hide');
                            };
                        };
                    };
                    console.log('remained ' + openModalIdList);
                    console.log('removed ' + str.split('+'));
                    console.log(prevModalIndex + ' ' + currentModalIndex);
                };
                var openModal = $("#mapModal");
                openModalList.push({
                    key: openModal.attr('id'),
                    value: null
                });
                var title = 'Map'
                window.history.pushState(openModal.attr('id'), title, "/map/");
                openModalIdList.push(openModal.attr('id'));
                openModal.modal('show')
            });
            $(".categories-btn").click(function() {
                if (notClicked == true) {
                    openModalCount++;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                } else {
                    notClicked = true;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex;
                    var index = currentModalIndex - 1;
                    openModalList.splice(index);
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join('+');
                    openModalIdList.splice(index);
                    for (let id of str.split('+')) {
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            }
                        }
                    }
                    console.log('remained ' + openModalIdList);
                    console.log('removed ' + str.split(' + '));
                    console.log(prevModalIndex + ' ' + currentModalIndex);
                };
                var btnClicked = $(this);
                var btnIndex = $('.categories - btn ').index(btnClicked);
                var queryList = ['', 'macbook ', 'iphone ', 'watch '];
                $.ajax({
                    url: "/home-data/",
                    data: {
                        page: homePage,
                        'query': queryList[btnIndex]
                    },
                    beforeSend: function() {
                        openModal = $("#contentModal");
                        openModal.modal('show');
                        var url;
                        var title;
                        openModal.css('z-index', openModalCount + 3)
                        if (btnIndex == 0) {
                            url = 'from-instagram';
                            title = 'From Instagram';
                        } else if (btnIndex == 1) {
                            url = 'macbooks-and-accessories';
                            title = 'Macs and Accessories';
                        } else if (btnIndex == 2) {
                            url = 'iphone-and-accessories';
                            title = 'Iphones and Accessories';
                        } else if (btnIndex == 3) {
                            url = 'wrist-decors';
                            title = 'Wrist Decors';
                        }
                        openModal.find('.content-title').html(title);
                        try {
                            $(".content-grid").masonry().masonry('destroy').remove();
                            $(".content-grid-parent").prepend('<div class="content-grid"></div>');
                        } catch (err) {}
                        searchBtnShow(openModal.find('.modal-body'));
                        var grid = openModal.find('.content-grid');
                        msnryObj = grid.masonry({
                            itemSelector: '.grid-item',
                            columnWidth: '.grid-item',
                            percentPosition: true,
                        });
                        openModalList.push({
                            key: openModal.attr('id'),
                            value: msnryObj
                        });
                        window.history.pushState(openModal.attr('id'), title, "/sort/" + url);
                        openModalIdList.push(openModal.attr('id'));
                        msnryObj = undefined;
                        openModalId = openModal.attr('id');
                        console.log(openModalList);
                    },
                    success: function(data) {
                        searchBtnShow(openModal);
                        var index = (openModalCount - 1);
                        appendItems(data, openModalList[index]['value'], openModal);
                        var notSent = true;
                        openModal.find('.modal-body').scroll(function() {
                            if (openModal.find('.loader').isOnScreen() && (notSent) && (openModalList[index]['value'])) {
                                notSent = false;
                                $.ajax({
                                    url: "/home-data/",
                                    data: {
                                        page: homePage,
                                        'query': queryList[btnIndex]
                                    },
                                    success: function(data) {
                                        /* openModal.find('.loader').removeClass('d-flex').addClass('d-none') */
                                        appendItems(data, openModalList[index]['value'], openModal);
                                        notSent = true;
                                        homePage++
                                    }
                                });
                            };
                        });
                    }
                });
            });
            $(".saved-btn").click(function() {
                var openModal = $("#savedModal");
                if (notClicked == true) {
                    openModalCount++;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                } else {
                    notClicked = true;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex
                    var index = currentModalIndex - 1;
                    openModalList.splice(index);
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join('+');
                    openModalIdList.splice(index)
                    for (let id of str.split('+')) {
                        /* console.log(id) */
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            };
                        };
                    };
                    console.log('remained ' +
                        openModalIdList);
                    console.log('removed ' + str.split('+'));
                    console.log(prevModalIndex + ' ' + currentModalIndex)
                }
                openModal.css('z-index', openModalCount + 3);
                openModal.modal('show');
                $.ajax({
                    url: "/like-view/",
                    data: {},
                    beforeSend: function() {
                        try {
                            openModal.find('.none-saved').removeClass('d-flex').addClass('d-none');
                            openModal.find(".saved-grid").masonry().masonry('destroy').remove();
                            openModal.find(".saved-grid-parent").prepend('<div class ="saved-grid"></div>');
                        } catch (err) {}
                        openModal.find('.loader').removeClass('d-none').addClass('d-flex');
                        var title = 'Saved'
                        window.history.pushState(openModal.attr('id'), title, "/saved/");
                    },
                    success: function(data) {
                        $(".search - btn").addClass('show')
                        openModal.find('.loader').removeClass('d-flex').addClass('d-none');
                        var grid = openModal.find('.saved-grid');
                        searchBtnShow(openModal.find('.modal-body'));
                        msnryObj = grid.masonry({
                            itemSelector: '.grid-item',
                            columnWidth: '.grid-item',
                            percentPosition: true,
                        });
                        openModalList.push({
                            key: openModal.attr('id'),
                            value: msnryObj
                        });
                        openModalIdList.push(openModal.attr('id'));
                        msnryObj = undefined;
                        grid = undefined;
                        openModalId = openModal.attr('id');
                        var index = (openModalCount - 1)
                            /* console.log(openModalList); */
                        if ($.isArray(data)) {
                            if (data.length > 0) {
                                appendItems(data, openModalList[index]['value'], openModal)
                            } else {
                                openModal.find('.none-saved').removeClass('d-none').addClass('d-flex')
                            }
                        }
                        $('#savedModal').scroll(function(e) {
                            if ($(this).scrollTop() > 73) {
                                $(this).find('.modal-dismiss-sticky').show();
                                $(this).find('.modal-dismiss-static').hide();
                            } else {
                                $(this).find('.modal-dismiss-sticky').hide();
                                $(this).find('.modal-dismiss-static').show();
                            }
                        });
                    }
                });
            });
            $('.menu-btn').click(function() {
                var openModal = $("#menuModal");
                if (notClicked == true) {
                    openModalCount++;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++
                } else {
                    notClicked = true;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex
                    var index = currentModalIndex - 1;
                    openModalList.splice(index);
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join(' + ');
                    openModalIdList.splice(index);
                    for (let id of str.split(' + ')) {
                        /* console.log(id); */
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            }
                        };
                    };
                    console.log('remained ' + openModalIdList);
                    console.log('removed ' + str.split('+'));
                    console.log(prevModalIndex + ' ' + currentModalIndex);
                }
                openModal.css('z-index', openModalCount + 3);
                openModal.modal('show');
                var title = 'Menu'
                window.history.pushState(openModal.attr('id'), title, "/menu/");
                openModalList.push({
                    key: openModal.attr('id'),
                    value: null
                });
                openModalIdList.push(openModal.attr('id'));
                $.ajax({
                    url: "/like-view/",
                    data: {
                        'savedCount': 'savedCount'
                    },
                    success: function(data) {
                        $('.saved-count').text(data)
                    }
                })
            });
            searchBtnShow(window);
            $(".search-div, .search-btn, .search-btn-2").click(function() {
                var openModal = $("#suggestionModal");
                if (notClicked == true) {
                    openModalCount++;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++
                } else {
                    notClicked = true;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex
                    var index = currentModalIndex - 1;
                    openModalList.splice(index);
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join('+');
                    openModalIdList.splice(index);
                    for (let id of str.split('+')) {
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            }
                        }
                    }
                    console.log('remained ' + openModalIdList);
                    console.log('removed' + str.split(' + '));
                    console.log(prevModalIndex + ' ' + currentModalIndex);
                }
                if ($("#suggestionModal").hasClass("show")) {
                    openModal = $("#suggestionModal").clone().attr("id", "suggestionModal" + openModalCount).removeClass('show')
                        .appendTo('#accessories');
                    openModal.find('.modal-dialog').removeClass('modal-lg').addClass(' modal-xl')
                }
                openModal.find('.sug-list').empty();
                openModal.css('z-index', openModalCount + 3);
                openModal.modal('show');
                $(".search-btn").removeClass('show')
                setTimeout(function() {
                    openModal.find(".search-input-text").focus()
                }, 300);
                openModalList.push({
                    key: openModal.attr('id'),
                    value: null
                });
                openModalIdList.push(openModal.attr('id'));
                console.log(openModalList);
                $(".search-btn").removeClass('show')
                console.log(openModalIdList);
                var title = 'Search-...'
                window.history.pushState(openModal.attr('id'), title, "/search/" + "...");
            });
            $("body").on("click", ".search-box-placeholder", function() {
                if (notClicked == true) {
                    openModalCount++
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++
                } else {
                    notClicked = true;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex
                    var index = currentModalIndex - 1;
                    openModalList.splice(index)
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join('+');
                    openModalIdList.splice(index);
                    for (let id of str.split('+')) {
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove()
                            } else {
                                $('#' + id).modal('hide')
                            }
                        }
                    }
                    console.log('remained ' + openModalIdList);
                    console.log('removed ' + str.split('+'));
                    console.log(prevModalIndex +
                        ' ' + currentModalIndex)
                }
                var openModal;
                var appendedSuggestionModal = $("#suggestionModal").clone().attr("id", "suggestionModal" + openModalCount).removeClass('show').addClass('slide-up');
                openModal = appendedSuggestionModal;
                openModal.find(".search-input-text").focus();
                openModal.find('.modal-dialog').removeClass('modal-lg').addClass('modal-xl');
                openModalList.push({
                    key: openModal.attr('id'),
                    value: null
                });
                var title = 'Search-...';
                window.history.pushState(openModal.attr('id'), title, "/search/" + "...");
                openModalIdList.push(openModal.attr('id'));
                console.log(openModalList);
                openModal.appendTo('#accessories').modal('show').find(".search-input-text").val($(this).html());
                openModal.css('z-index', openModalCount + 3);
            });
            $('body').on("click", ".modal-dismiss", function() {
                window.history.back()
            });
            $("body").on('click', '.like-btn', function() {
                var status;
                /* var likeBtn = $(event.target); */
                ;
                var likeBtn = $(this);
                if ($(this).children('.like-btn-icon').hasClass('fa-bookmark-o')) {
                    $(this).children('.like-btn-icon').removeClass('fa-bookmark-o vivify pullUp').addClass('fa-bookmark vivify pullDown');
                    status = 'liked';
                } else {
                    $(this).children('.like-btn-icon').removeClass('fa-bookmark vivify pullDown').addClass('fa-bookmark-o vivify pullUp ');
                    status = 'not-liked ';
                } /* setting value either liked or not liked */ ;
                $(this).val(status);
                var classes = $(this).attr('class');
                for (var classItem of classes.split(' ')) {
                    if (classItem.includes('id - ')) {
                        var id = classItem.replace('id - ', '');
                    };
                };
                $.ajax({
                    url: "/like-view/",
                    data: {
                        buttonValue: $(this).val(),
                        buttonId: id,
                    },
                    success: function(data) {
                        console.log(data)
                            /* alert(likeBtn); */
                        var savedNotification = $("#savedNotification");
                        if (status == 'liked') {
                            savedNotification.find('.info').html('Added to Saved list');
                        } else {
                            savedNotification.find('.info').html('Removed from Saved list');
                        }
                        var imgUrl;
                        if (likeBtn.attr('class').includes('post-like-btn')) {
                            imgUrl = likeBtn.parents('.post-info').find('.post-image').attr('src')
                        } else {
                            imgUrl = likeBtn.parent('.card').find('img').attr('src')
                        }
                        savedNotification.find('img').attr('src', imgUrl);
                        if ($('.search-btn').hasClass('show')) {
                            savedNotification.addClass('show-w-search');
                            setTimeout(function() {
                                savedNotification.removeClass('show-w-search')
                            }, 2000)
                        } else {
                            savedNotification.addClass('show');
                            setTimeout(function() {
                                savedNotification.removeClass('show')
                            }, 2000)
                        } // savedNotification.removeClass('show')
                    },
                });
            });
            $('body').on('click', '.post-carousel-btn', function() {
                var parent = $(this).parent('div');
                var index = parent.children('.post-carousel-btn').index($(this)) + 1;
                $(this).parents('.post-info').find('.post-carousel').find('.owl-dot:nth-child(' +
                    index + ')').click();
                parent.children('.post-carousel-btn').removeClass('active');
                $(this).addClass('active')
            });
            $("body").on('click', '.card a', function() {
                var classes = $(this).parent('.card').attr('class');
                for (var classItem of classes.split(' ')) {
                    if (classItem.includes('id-')) {
                        var id = classItem.replace('id-', '')
                    }
                }
                // alert(l())
                var openModal;
                var postDescription;
                var owl;
                $.ajax({
                    url: "/post-data/",
                    data: {
                        postId: id,
                    },
                    beforeSend: function(data) {
                        if (notClicked == true) {
                            openModalCount++;
                            prevModalIndex = currentModalIndex;
                            currentModalIndex++;
                        } else {
                            notClicked = true;
                            prevModalIndex = currentModalIndex;
                            currentModalIndex++;
                            openModalCount = currentModalIndex
                            var index = currentModalIndex - 1;
                            openModalList.splice(index);
                            console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                            console.log('not trimmed ' + openModalIdList);
                            var str = openModalIdList.join('+');
                            openModalIdList.splice(index);
                            for (let id of str.split('+')) {
                                if (!openModalIdList.includes(id)) {
                                    var hasNumber = /\d/.test(id);
                                    if (hasNumber) {
                                        $('#' + id).remove()
                                    } else {
                                        $('#' + id).modal('hide')
                                    }
                                }
                            }
                            console.log('remained ' + openModalIdList);
                            console.log('removed ' + str.split('+'));
                            console.log(prevModalIndex + ' ' + currentModalIndex);
                        }
                        if ($("#postModal").hasClass("show")) {
                            openModal = $("#postModal").clone().attr("id", "postModal" + openModalCount)
                                .removeClass('show').appendTo('#accessories');
                            openModal.find('.like-btn-icon').removeClass('fa-bookmark').addClass('fa-bookmark-o');
                            openModal.find('.modal-dismiss-static').show();
                            openModal.find('.modal-dismiss-sticky').hide();
                            openModal.find(".post-image").attr('src',
                                '');
                            openModal.find(".post-description").empty();
                            openModal.find(".img-loader").removeClass("d-none");
                            openModal.find(".post-carousel-btn").removeClass("active")
                                /* openModal.find('.post-carousel-parent').empty();  */
                            ;
                            openModal.find(".post-carousel-btn:first").addClass("active");
                            openModal.find(".search-grid").masonry().masonry('destroy').remove();
                            openModal.find(".search-grid-parent").prepend('<div class="search-grid"></div>');
                            openModal.modal('show');
                        } else {
                            $("#postModal").modal('show');
                            openModal = $("#postModal");
                        };
                        openModal.find('.post-carousel-parent').empty();
                        var postCarousel = $("#postCarousel").clone().removeAttr("id");
                        openModal.find('.post-carousel-parent').append(postCarousel)
                        openModal.find('.modal-dismiss-sticky').show();
                        openModal.find(".post-title .like-btn").addClass('id-' + id);
                        searchBtnShow(openModal.find('.modal-body'));
                        openModal.css('z-index', openModalCount + 3);
                        msnryObj = openModal.find('.search-grid').masonry({
                            // specify itemSelector so stamps do get laid out
                            itemSelector: '.grid-item',
                            columnWidth: '.grid-item',
                            percentPosition: true,
                        });
                        openModalList.push({
                            key: openModal.attr('id'),
                            value: msnryObj
                        });
                        var title = 'Post-' + id
                        window.history.pushState(openModal.attr('id'), title, "/post/" + id);
                        openModalIdList.push(openModal.attr('id'));
                        msnryObj = undefined;
                        console.log(openModalList);
                        openModalId = openModal.attr('id')
                            //modal(openModalId,"/post/"+id)
                            //modal(openModalId,"/post/" + id, ajaxUrl, ajaxData)
                    },
                    success: function(data) {
                        var index = openModalCount - 1;
                        openModal.find(".img-loader").removeClass("d-flex").addClass("d-none");
                        var pWidth = openModal.find(".post-image-parent").width()
                        var itemImgHeightWidthRatio = data['img_height_width_ratio'];
                        openModal.find(".post-image-parent").height(itemImgHeightWidthRatio * pWidth)
                            /* openModal.find(".post-image-parent").width(pWidth); */
                        ;
                        openModal.find(".post-image").attr("src", data['img']);
                        openModal.find(".post-date").text(data['date']);
                        openModal.find('.post-url').attr('href', data['url']);
                        postDescription = data['description'];
                        openModal.find(".post-description").text(postDescription);
                        openModal.find(".post-src").text(data['src']);
                        var contacts = data['contacts'];
                        if (contacts.length > 0) {
                            openModal.find(".post-contacts-btn").removeClass('d-none');
                            var itemPostContacts = $('#itemPostContacts').clone().removeAttr('id');
                            openModal.find('.post-carousel').append(itemPostContacts)
                            for (let x of contacts) {
                                var postContact = $('#PostContact').clone().removeAttr('id');
                                itemPostContacts.append(postContact);
                                var cType;
                                var cDescription = '255' + x[1].slice(1);
                                if (x[0] == 'wa') {
                                    cType = 'Whatsapp'
                                    postContact.find('.post-contact-description').parent('a').attr('href',
                                        'https://wa.me/' + cDescription)
                                } else
                                if (x[0] == 'nc') {
                                    cType = 'Calls'
                                }
                                postContact.find('.post-contact-type').text(cType);
                                // alert(x[1]);
                                postContact.find('.post-contact-description').text(x[1]);
                                // postContact.find('.post-contact-icon');
                                postContact.removeClass('d-none');
                            }
                            itemPostContacts.removeClass('d-none');
                            // alert('l');
                        }
                        if ((data['lat'] != null) && (data['lon'] != null)) {
                            openModal.find(".post-map-btn").removeClass('d-none');
                            var itemPostMap = $('#itemPostMap').clone().removeAttr('id');
                            openModal.find('.post-carousel').append(itemPostMap);
                            itemPostMap.removeClass('d-none');
                            openModal.find('.post-map').children('div').attr('id', 'id-' + id);
                            var zoomThreshold = 9;
                            mapboxgl.accessToken = token;
                            var monument = [39.5, -6.5];
                            var map = new mapboxgl.Map({
                                container: 'id-' + id,
                                /* dark-v10 light-v10 streets-v11 outdoors-v11 */
                                style: 'mapbox://styles/mapbox/light-v10',
                                center: monument,
                                zoom: zoomThreshold,
                            });
                        }
                        owl = openModal.find('.post-carousel').owlCarousel({
                            /* loop: true, */
                            margin: 10,
                            nav: false,
                            responsive: {
                                0: {
                                    items: 1
                                }
                            }
                        });
                        owl.on('changed.owl.carousel', function(event) {
                            var currIndex = event.page.index + 1
                            if ((event.page.index == 2) && (data['lat'] != null)) {
                                map.resize()
                            }
                            $(this).parents('.post-info').find('.post-carousel-btn').removeClass('active');
                            openModal.find('.post-carousel-btn:nth-child(' + currIndex + ')').addClass('active')
                        });
                        // get related item
                        var page = 1;
                        $.ajax({
                            url: "/search-data/",
                            data: {
                                "query": postDescription,
                                page: page,
                            },
                            success: function(data) {
                                openModal.find(".loader").removeClass("d-flex").addClass("d-none");
                                appendItems(data, openModalList[index]['value'], openModal);
                                var notSent = true;
                                openModal.find('.modal-body').scroll(function() {
                                    if (openModal.find('.loader').isOnScreen() && (notSent) && (openModalList[index]['value'])) {
                                        notSent = false;
                                        $.ajax({
                                            url: "/search-data/",
                                            data: {
                                                "query": postDescription,
                                                page: page,
                                            },
                                            success: function(data) {
                                                appendItems(data, openModalList[index]['value'], openModal);
                                                page++;
                                                notSent = true
                                            }
                                        });
                                    }
                                })
                            }
                        });
                        openModal.scroll(function(e) {
                            if ($(this).scrollTop() >
                                73) {
                                $(this).find('.modal-dismiss-sticky').show();
                                $(this).find('.modal-dismiss-static').hide();
                            } else {
                                $(this).find('.modal-dismiss-sticky').hide();
                                $(this).find('.modal-dismiss-static').show();
                            }
                        });
                    },
                })
            });
            // open search modal
            $("body").on('click', '.sug-list-item', function() {
                if (notClicked == true) {
                    openModalCount++;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++
                } else {
                    notClicked = true;
                    prevModalIndex = currentModalIndex;
                    currentModalIndex++;
                    openModalCount = currentModalIndex;
                    var index = currentModalIndex - 1;
                    openModalList.splice(index);
                    console.log('index ' + index + " currentModalIndex" + currentModalIndex);
                    console.log('not trimmed ' + openModalIdList);
                    var str = openModalIdList.join('+');
                    openModalIdList.splice(index);
                    for (let id of str.split('+')) {
                        /* console.log(id); */
                        if (!openModalIdList.includes(id)) {
                            var hasNumber = /\d/.test(id);
                            if (hasNumber) {
                                $('#' + id).remove();
                            } else {
                                $('#' + id).modal('hide');
                            }
                        }
                    }
                    console.log('remained ' + openModalIdList);
                    console.log('removed ' + str.split('+'));
                    console.log(prevModalIndex + ' ' + currentModalIndex);
                }
                searchInput = $(this).html();
                var openModal;
                var page = 1;
                $('.search-btn').removeClass('show');
                $.ajax({
                    url: "/search-data/",
                    data: {
                        "query": searchInput,
                        page: page,
                    },
                    beforeSend: function() {
                        if ($("#searchModal").hasClass("show")) {
                            openModal = $("#searchModal").clone().attr("id", "searchModal" + openModalCount).removeClass('show').appendTo('#accessories');
                            openModal.modal('show')
                        } else {
                            $("#searchModal").modal('show');
                            openModal = $("#searchModal");
                        }
                        openModal.find(".search-grid").empty();
                        openModal.find('.search-grid').remove();
                        openModal.find(".search-grid-parent").prepend('<div class="search-grid"></div>');
                        searchBtnShow(openModal.find('.modal-body'));
                        var title = 'Search-' + searchInput;
                        var searchUrlQuery = searchInput.replaceAll('/', ' & $ ');
                        window.history.pushState(openModal.attr('id '), title, "/search/" + searchUrlQuery);
                        openModal.css('z-index', openModalCount + 3);
                        msnryObj = openModal.find('.search-grid').masonry({
                            /* specify itemSelector so stamps do get laid out */
                            itemSelector: '.grid-item',
                            columnWidth: '.grid-item',
                            percentPosition: true,
                        });
                        openModalList.push({
                            key: openModal.attr('id'),
                            value: msnryObj
                        }); // location.hash = openModal.attr('id'); openModalIdList.push(openModal.attr('id')); msnryObj = undefined; console.log(openModalList); openModalId = openModal.attr('id');
                    },
                    success: function(data) {
                        var index = openModalCount - 1;
                        openModal.find(".search-box-placeholder").html(searchInput);
                        appendItems(data, openModalList[index]['value'], openModal);
                        var notSent = true;
                        openModal.find('.modal-body').scroll(function() {
                            if (openModal.find('.loader').isOnScreen() && (notSent) && (openModalList[index]['value'])) {
                                notSent = false;
                                $.ajax({
                                    url: "/search-data/",
                                    data: {
                                        'query': searchInput,
                                        page: page,
                                    },
                                    beforeSend: function() {},
                                    success: function(data) {
                                        /* openModal.find('.loader').removeClass('d-flex').addClass('d-none') */
                                        appendItems(data, openModalList[index]['value'], openModal);
                                        page++;
                                        notSent = true;
                                    }
                                });
                            };
                        });
                    }
                });
                openModal.scroll(function(e) {
                    if ($(this).scrollTop() > 73) {
                        $(this).find('.modal-dismiss-sticky').show();
                        $(this).find('.modal-dismiss-static').hide();
                    } else {
                        $(this).find('.modal-dismiss-sticky').hide();
                        $(this).find('.modal-dismiss-static').show();
                    };
                });
            });
            $("#mapModal").on('shown.bs.modal', function() {
                $(".search-btn").removeClass('show');
                var zoomThreshold = 9;
                mapboxgl.accessToken = 'pk.eyJ1IjoicHJpczEiLCJhIjoiY2tqd2U5dnN2MGUwdjJwbWx0NDZxaWJqcyJ9.Zvu_Xejr42bcumLw069pqw';
                var monument = [39.5, -6.5];
                var map = new mapboxgl.Map({
                    container: 'map',
                    /* dark-v10 light-v10 streets-v11 outdoors-v11 */
                    style: 'mapbox://styles/mapbox/streets-v11',
                    center: monument,
                    zoom: zoomThreshold,
                });
                map.resize();
                var el = document.getElementById('marker')

                $(el).removeClass('d-none');
                new mapboxgl.Marker(el)
                    .setLngLat(monument)
                    .addTo(map);
            });
            $("#suggestionModal").on('shown.bs.modal', function() {
                var openModal = $("#suggestionModal");
                $(".search-btn").removeClass('show');
                setTimeout(function() {
                    openModal.find(".search-input-text").focus();
                }, 300);
                $('.sug-grid').imagesLoaded(function() {
                    $('.sug-grid').masonry({
                        itemSelector: '.sug-grid-item',
                        columnWidth: '.sug-grid-item',
                        percentPosition: true
                    });
                });
            });
            $('#loginModal input').keyup(function() {
                $('#loginModal .status-error').addClass('d-none');
                var emptyInputs = $('#loginModal input').filter(function() {
                    return $(this).val() == "";
                });
                if (emptyInputs.length == 0) {
                    $('.login-btn').prop('disabled', false);
                } else {
                    $('.login-btn').prop('disabled', true);
                };
            });
            $('#signupModal input').keyup(function() {
                $('#signupModal .signup-status-error').addClass('d-none');
            });
            $('input[name="signup-username"]').keyup(function() {
                /* $(".clear-text").removeClass("d-none").addClass("d-flex"); */
                var thisEle = $(this);
                var inputVal = $(this).val();
                if (inputVal != '') {
                    $.ajax({
                        url: "/load-username/",
                        data: {
                            'inputVal': inputVal,
                        },
                        beforeSend: function() {
                            thisEle.siblings().addClass("d-none");
                            thisEle.siblings('.loader').removeClass('d-none');
                        },
                        success: function(data) {
                            thisEle.siblings().addClass("d-none");
                            if (data == 'success') {
                                thisEle.siblings('.status-success').removeClass('d-none');
                            } else {
                                thisEle.siblings('.status-error').removeClass('d-none');
                            };
                        },
                    });
                } else {
                    thisEle.siblings().addClass("d-none");
                };
            });
            $('input[name="signup-password"]').keyup(function() {
                var thisEle = $(this);
                var inputVal = $(this).val();
                var pStrength = 0;
                var pConfirm = $('input[name="signup-password-confirm"]');
                if (inputVal.length > 0) {
                    if (inputVal.length > 8) {
                        /* validate length */
                        pStrength = pStrength + 2;
                    };
                    if (inputVal.match(/[a-z]/)) {
                        /* validate small letters */
                        pStrength++;
                    };
                    if (inputVal.match(/[A-Z]/)) {
                        /* validate capital letters */
                        pStrength++;
                    };
                    if (inputVal.match(/\d/)) {
                        /* validate number */
                        pStrength++;
                    };
                    var pClass = '';
                    var pStatus = '';
                    if (pStrength <= 1) {
                        pClass = "text-danger border-danger";
                        pStatus = "Weak";
                    } else if (pStrength <= 3) {
                        pClass = "text-warning border-warning";
                        pStatus = "Moderate";
                    } else {
                        pClass = "text-success border-success";
                        pStatus = "Strong";
                    };
                    thisEle.siblings().removeAttr('class').attr('class', pClass).text(pStatus);
                    console.log(pStrength);
                    if (pStatus == "Moderate" || pStatus == "Strong") {
                        pConfirm.prop('disabled', false);
                    };
                } else {
                    thisEle.siblings().addClass('d-none');
                    pConfirm.prop('disabled', true);
                };
            });
            $('input[name="signup-password-confirm"]').keyup(function() {
                var thisEle = $(this);
                var inputVal = $(this).val();
                if (inputVal.length > 0) {
                    if (inputVal == $('input[name="signup-password"]').val()) {
                        thisEle.siblings().addClass("d-none");
                        thisEle.siblings('.status-success').removeClass('d-none');
                        $('input[name="signup-email"]').prop('disabled', false);
                    } else {
                        thisEle.siblings().addClass("d-none");
                        thisEle.siblings('.status-error').removeClass('d-none');
                        $('input[name="signup-email"]').prop('disabled', true);
                    };
                } else {
                    thisEle.siblings().addClass("d-none");
                    $('input[name="signup-email"]').prop('disabled',
                        true);
                };
            });
            $('#signupModal input').keyup(function() {
                var emptyInputs = $('#signupModal input').filter(function() {
                    return $(this).val() == "";
                });
                var invalidInputs = $('#signupModal input').filter(function() {
                    return $(this).siblings('.status-success').hasClass('d-none');
                });
                // alert(invalidInputs.length)
                // if (emptyInputs.length == 0) {
                // $('.signup-btn').prop('disabled', false)
                // } else {
                // $('.signup-btn').prop('disabled', true)
                // }
                if (invalidInputs.length == 0 && emptyInputs.length == 0) {
                    $('.signup-btn').prop('disabled', false);
                } else {
                    $('.signup-btn').prop('disabled', true);
                };
            });
            $("body").on("keyup", ".search-input-text", function() {
                $(".clear-text").removeClass("d-none").addClass("d-flex");
                $(".search-input-icon").removeClass('d-flex').addClass("d-none");
                var searchInput = $(this).val();
                $.ajax({
                    url: "/load-data/",
                    data: {
                        "query": searchInput,
                    },
                    beforeSend: function() {
                        $(".sug-list").empty();
                        $(".sug-list").hide();
                        $(".sug-list").siblings(".loader").removeClass("d-none").addClass("d-flex");
                    },
                    success: function(data) {
                        $(".sug-list").siblings(".loader").removeClass("d-flex").addClass("d-none");
                        $(".sug-list").show();
                        $(".sug-list-item").hide();
                        if (data.length > 0) {
                            var time = 50;
                            for (let item of data) {
                                setTimeout(function() {
                                    var code = '<div class="sug-list-item text-truncate">' + item + '</div>';
                                    $(code).appendTo('.sug-list').hide().fadeIn(50)
                                }, time);
                                time += 50;
                            }
                        } else {
                            /* var code = '<div class="sug-list-item text-truncate">' + item + '</div>'
                             $(code).appendTo('.sug-list') */
                        };
                    },
                });
            });
            $("body").on("click", ".clear-text", function() {
                $(this).siblings(".search-input-text").val("");
                $(this).siblings(".search-input-text").focus();
                $(this).removeClass("d-flex").addClass("d-none");
                $(this).siblings('.search-input-icon').removeClass('d-none').addClass('d-flex');
            });
        });
        $.fn.isOnScreen = function() {
            var win = $(window);
            var viewport = {
                top: win.scrollTop(),
                left: win.scrollLeft()
            };
            viewport.right = viewport.left + win.width();
            viewport.bottom = viewport.top + win.height();
            var bounds = this.offset();
            bounds.right = bounds.left + this.outerWidth();
            bounds.bottom = bounds.top + this.outerHeight();
            return (!(viewport.right <
                bounds.left || viewport.left > bounds.right || viewport.bottom <
                bounds.top || viewport.top > bounds.bottom));
        };


        $('.categories-carousel').owlCarousel({
            loop: true,
            stagePadding: 48,
            margin: 20,
            nav: true,
            responsive: {
                0: {
                    items: 2
                },
                568: {
                    items: 3
                },
                768: {
                    items: 5
                },
                1000: {
                    items: 7
                }
            }
        });
        $('.source-carousel').owlCarousel({
            /* loop: true,
             stagePadding: 48, */
            margin: 20,
            nav: true,
            responsive: {
                0: {
                    items: 2
                },
                600: {
                    items: 3
                },
                1000: {
                    items: 5
                }
            }
        });





        $('input[name="signup-email"]').keyup(function() {
            var thisEle = $(this);
            var inputVal = $(this).val();
            var matcher = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            if (inputVal.length > 0) {
                if (inputVal.match(matcher)) {
                    thisEle.siblings().addClass("d-none");
                    thisEle.siblings('.status-success').removeClass('d-none');
                } else {
                    thisEle.siblings().addClass("d-none");
                    thisEle.siblings('.status-error').removeClass('d-none');
                };
            } else {
                thisEle.siblings().addClass("d-none");

            };
        });
    </script>

</body>

</html>